# ç³»çµ±ç¶­é‹ Multi-Agent è¨­è¨ˆ

> æ•´åˆ A2A + MCP + Kafka + Streamingï¼‰

## **1. Monitoring Agentï¼ˆç›£æ§ä»£ç†äººï¼‰**

| é …ç›®                          | èªªæ˜                                                                                                   |
| --------------------------- | ---------------------------------------------------------------------------------------------------- |
| **Agent åç¨±**                | Monitoring Agentï¼ˆç›£æ§ä»£ç†äººï¼‰                                                                              |
| **ä¸»è¦åŠŸèƒ½**                    | æ¥æ”¶ Kafka çš„ metrics/log/alert eventsï¼Œé€²è¡Œé™å™ªèˆ‡äº‹ä»¶èšåˆï¼Œå½¢æˆ Incident Candidateã€‚                                 |
| **ä½¿ç”¨çš„å·¥å…·ï¼ˆMCP Tools / Dataï¼‰** | - ï¼ˆå¯é¸ï¼‰Metrics Query Toolï¼ˆæŠ“è£œå……æ›²ç·šï¼‰<br> - ï¼ˆå¯é¸ï¼‰Loki/Log API Tool<br> - Kafka Consumerï¼ˆData Planeï¼Œä¸å±¬æ–¼ MCPï¼‰ |
| **A2A è§’è‰²**                  | **ç™¼èµ·è€…**ï¼šå‘ Incident Triage Agent ç™¼é€ã€Œäº‹ä»¶è©•ä¼°ä»»å‹™ã€ã€‚                                                          |
| **æè¿°**                      | é©åˆä½œç‚ºç¬¬ä¸€ç·š Agentï¼Œè² è²¬å°‡å¤§é‡å™ªè² alert è½‰æˆè¼ƒä¹¾æ·¨çš„ã€Œå¯ç–‘äº‹ä»¶å€™é¸ã€ã€‚æœ¬èº«ä¸åšåˆ¤æ–·ã€ä¸æŸ¥çŸ¥è­˜åº«ã€‚                                             |

---

## **2. Incident Triage Agentï¼ˆäº‹ä»¶åˆ†ç´šä»£ç†äººï¼‰**

| é …ç›®                   | èªªæ˜                                                                                                                                                |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Agent åç¨±**         | Incident Triage Agentï¼ˆäº‹ä»¶åˆ†ç´šä»£ç†äººï¼‰                                                                                                                    |
| **ä¸»è¦åŠŸèƒ½**             | åˆ¤æ–·äº‹ä»¶åš´é‡æ€§ï¼ˆP1/P2/P3ï¼‰ã€å½±éŸ¿ç¯„åœã€æ˜¯å¦éœ€è¦ escalateã€è‡ªå‹•åŒ–è™•ç½®éœ€æ±‚ã€‚                                                                                                     |
| **ä½¿ç”¨çš„å·¥å…·ï¼ˆMCP Toolsï¼‰** | - `cmdb_lookup_tool`ï¼šæŸ¥æœå‹™æ‹“æ¨¸/ä¾è³´<br> - `deploy_history_tool`ï¼šæŸ¥æœ€è¿‘ç‰ˆæœ¬è®Šæ›´<br> - `metrics_query_tool`ï¼šè£œå…… metrics<br> - `incident_lookup_tool`ï¼šæŸ¥è¿‘æœŸ incident |
| **A2A è§’è‰²**           | - **æ¥æ”¶è€…**ï¼šæ¥æ”¶ Monitoring Agent çš„äº‹ä»¶è©•ä¼°ä»»å‹™<br> - **ç™¼èµ·è€…**ï¼šå‘ Runbook Agent æå‡º Runbook æŸ¥è©¢ä»»å‹™<br> - **ç™¼èµ·è€…**ï¼šå‘ Execution Agent ç™¼å‡ºåŸ·è¡Œè«‹æ±‚                        |
| **æè¿°**               | æ˜¯æ•´å€‹ç¶­é‹ AI Mesh çš„ã€ŒæŒ‡æ®ä¸­å¿ƒã€ã€‚æ•´åˆè³‡æ–™ã€æŸ¥æ‹“æ¨¸ã€è©¢å• Runbook Agentã€ä¸¦æ±ºå®šè¦ä¸è¦é€²è¡Œè‡ªå‹•åŒ–ä¿®å¾©ã€‚                                                                                    |

---

## **3. ğŸ“š Runbook / Knowledge Agentï¼ˆçŸ¥è­˜ / Runbook ä»£ç†äººï¼‰**

| é …ç›®                   | èªªæ˜                                                                                                                                                                                            |
| -------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Agent åç¨±**         | Runbook / Knowledge Agentï¼ˆçŸ¥è­˜ä»£ç†äººï¼‰                                                                                                                                                              |
| **ä¸»è¦åŠŸèƒ½**             | æœå°‹/å½™æ•´æŠ€è¡“æ–‡ä»¶ã€æ­·å² incidentã€Postmortemã€Runbook SOPï¼Œå›å‚³å»ºè­°è™•ç½®æ­¥é©Ÿã€‚                                                                                                                                        |
| **ä½¿ç”¨çš„å·¥å…·ï¼ˆMCP Toolsï¼‰** | - `confluence_search_tool`ï¼ˆå…§éƒ¨çŸ¥è­˜åº«ï¼‰<br> - `itsm_ticket_search_tool`ï¼ˆæ­·å² incidentï¼‰<br> - `git_doc_search_tool`ï¼ˆREADMEã€infra docsï¼‰<br> - `runbook_vector_search_tool`ï¼ˆEmbedding similarity searchï¼‰ |
| **A2A è§’è‰²**           | - **æ¥æ”¶è€…**ï¼šæ¥æ”¶ Triage Agent çš„ runbook æŸ¥è©¢ä»»å‹™<br> - **æä¾›è€…**ï¼šç”¨ A2A å›è¦†ã€Œé¡ä¼¼äº‹ä»¶ã€å»ºè­°è™•ç½®æ­¥é©Ÿã€root causeã€                                                                                                       |
| **æè¿°**               | æ­¤ Agent æ˜¯ã€ŒçŸ¥è­˜é›†ä¸­ä¸­å¿ƒã€ã€‚å…¶ä»– Agent ä¸éœ€ç›´æ¥ query Confluence/ITSMï¼Œè€Œæ˜¯é€é A2A èˆ‡æ­¤ Agent å”ä½œã€‚                                                                                                                   |

---

## **4. Execution / Automation Agentï¼ˆåŸ·è¡Œä»£ç†äººï¼‰**

| é …ç›®                   | èªªæ˜                                                                                                                                                     |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Agent åç¨±**         | Execution / Automation Agentï¼ˆè‡ªå‹•åŒ–åŸ·è¡Œä»£ç†äººï¼‰                                                                                                                 |
| **ä¸»è¦åŠŸèƒ½**             | ä¾ Triage Agent æŒ‡ç¤ºï¼ŒåŸ·è¡Œ rollbackã€é‡å•Ÿæœå‹™ã€åˆ‡æµé‡ã€èª¿æ•´ scalingã€ä¿®æ”¹ feature flagã€‚                                                                                     |
| **ä½¿ç”¨çš„å·¥å…·ï¼ˆMCP Toolsï¼‰** | - `k8s_scaling_tool`<br> - `k8s_rollout_restart_tool`<br> - `feature_flag_toggle_tool`<br> - `cd_pipeline_rollback_tool`<br> - `run_script_tool`ï¼ˆç™½åå–®åŒ–ï¼‰ |
| **A2A è§’è‰²**           | - **æ¥æ”¶è€…**ï¼šæ¥æ”¶ Triage Agent çš„åŸ·è¡Œä»»å‹™ï¼ˆåŒ…å« context + é™åˆ¶ï¼‰<br> - **å›å ±è€…**ï¼šæŠŠåŸ·è¡Œçµæœä»¥ A2A å›å‚³ Triage Agent                                                              |
| **æè¿°**               | åš´æ ¼å—æ§ï¼Œéœ€è¦æ˜ç¢ºç™½åå–®ã€æ¬Šé™ã€å¯©è¨ˆã€‚æ‰€æœ‰ action å¿…é ˆå¯è¿½æº¯ã€‚æ˜¯æœ€æ¥è¿‘â€œçœŸå¯¦å‹•ä½œâ€çš„ Agentã€‚                                                                                                  |

---

## **5. SRE Copilot Agentï¼ˆäººé¡æºé€šä»£ç†äººï¼‰**

| é …ç›®                   | èªªæ˜                                                                                                                            |
| -------------------- | ----------------------------------------------------------------------------------------------------------------------------- |
| **Agent åç¨±**         | SRE Copilot Agentï¼ˆäººé¡ä»‹é¢ä»£ç†äººï¼‰                                                                                                    |
| **ä¸»è¦åŠŸèƒ½**             | èˆ‡ SRE/On-call å·¥ç¨‹å¸«äº’å‹•ï¼Œæä¾›äº‹ä»¶æ‘˜è¦ã€å»ºè­°ã€ç´€éŒ„ï¼›æ¥æ”¶äººé¡æŒ‡ä»¤ä¸¦è½‰äº¤çµ¦å…¶ä»– Agentã€‚                                                                          |
| **ä½¿ç”¨çš„å·¥å…·ï¼ˆMCP Toolsï¼‰** | - `chatops_tool`ï¼ˆå¯«å…¥ Slack / Teamsï¼‰<br> - `incident_system_tool`ï¼ˆé–‹ ticketï¼‰<br> - `postmortem_builder_tool`ï¼ˆå”åŠ©ç”¢ç”Ÿ Postmortem è‰ç¨¿ï¼‰ |
| **A2A è§’è‰²**           | - **æ¥æ”¶è€…**ï¼šæ¥æ”¶æ‰€æœ‰ Agent çš„äº‹ä»¶è³‡è¨Š<br> - **ç™¼èµ·è€…**ï¼šæ ¹æ“šäººé¡æŒ‡ä»¤ï¼Œå‘ Execution Agent æˆ– Triage Agent ç™¼èµ· A2A ä»»å‹™                                    |
| **æè¿°**               | è®“äººé¡èƒ½çœ‹æ‡‚ã€ä»‹å…¥ã€æ§åˆ¶ AI Meshï¼Œæ˜¯ AI-Driven é‹ç¶­çš„ä¸»è¦å…¥å£ã€‚                                                                                     |


***
## **ç¸½æ•´ç†èªªæ˜**

| Agent                     | åŠŸèƒ½                           | MCP Tools                           | A2A è§’è‰²                                 | è£œå……èªªæ˜                        |
| ------------------------- | ---------------------------- | ----------------------------------- | -------------------------------------- | --------------------------- |
| **Monitoring Agent**      | é™å™ªã€äº‹ä»¶èšåˆ                      | ï¼ˆå¯é¸ï¼‰metrics/log tools               | ç™¼èµ· â†’ Triage                            | Kafka ingestion + Streaming |
| **Incident Triage Agent** | åˆ†ç´šã€å½±éŸ¿è©•ä¼°ã€æŒ‡æ®ä¸­å¿ƒ                 | CMDB / deploy history / metrics     | æ”¶ Monitoring â†’ ç™¼ Runbook / ç™¼ Execution | åšæ±ºç­–ï¼Œä¸åŸ·è¡Œå‹•ä½œ                   |
| **Runbook Agent**         | æœå°‹çŸ¥è­˜åº«ã€æ­·å²äº‹ä»¶                   | Confluence / ITSM / Git / Vector DB | æ”¶ Triage â†’ å› Triage                    | é€é MCP æŠ“çŸ¥è­˜ã€é€é A2A å›ç­”        |
| **Execution Agent**       | Rollback / restart / scaling | k8s / feature flag / CD tools       | æ”¶ Triage â†’ å› Triage                    | çœŸæ­£å‹•æ‰‹ä¿®å¾©çš„ Agent               |
| **SRE Copilot Agent**     | èˆ‡äººé¡äº’å‹•                        | ChatOps / Ticket / Postmortem       | æ”¶æ‰€æœ‰ â†’ ç™¼æŒ‡ä»¤                              | æ•´åˆè³‡è¨Šçµ¦äººã€æ¥å—äººé¡æˆæ¬Š               |
***
[<< ä¸Šä¸€ç¯‡ï¼šç¶­é‹å¤š Agent å”ä½œå®‡å®™](./01_ops-flow-design.md) | [è¿”å›ç›®éŒ„](./README.md) | [ä¸‹ä¸€ç¯‡ï¼šæŠ€è¡“æ£§é¸å‹è€ƒé‡ >>](./03_tech-stacks.md)
