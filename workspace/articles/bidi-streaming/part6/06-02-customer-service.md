åœ¨ **ADK é›™å‘ä¸²æµ (Bidi-streaming)** çš„æŠ€è¡“æ¡†æ¶ä¸‹ï¼Œæ‡‰ç”¨ç¨‹å¼çš„é–‹ç™¼æ€ç¶­å·²å¾å‚³çµ±çš„ã€Œæ–‡å­—è¼¸å…¥èˆ‡éœæ…‹å›æ‡‰ã€è½‰åŒ–ç‚ºã€Œé¡äººçš„å³æ™‚æ„Ÿå®˜äº’å‹•ã€ã€‚ç‰¹åˆ¥æ˜¯åœ¨ **å®¢æˆ¶æœå‹™èˆ‡æŠ€è¡“å”åŠ©** é ˜åŸŸï¼Œä¾†æºè³‡æ–™æŒ‡å‡ºé€™ç¨®è½‰è®Šå¦‚åŒå¾ã€Œç™¼é€é›»å­éƒµä»¶ã€æ¼”é€²ç‚ºã€Œé›»è©±äº¤è«‡ã€ï¼Œæ¥µå¤§åœ°æå‡äº†æœå‹™æ•ˆç‡èˆ‡ä½¿ç”¨è€…ä¿¡ä»»ã€‚

èº«ç‚ºä½ çš„æŠ€è¡“å°å¸«ï¼Œæˆ‘å°‡é€éé€™ä»½æ•™å­¸ç­†è¨˜ï¼Œå¸¶é ˜ä½ æ·±å…¥ç†è§£ ADK å¦‚ä½•é€éå¤šæ¨¡æ…‹èƒ½åŠ›é‡å¡‘é€™å…©å¤§æ ¸å¿ƒå ´æ™¯ã€‚

---

### ğŸ“Œ å®¢æˆ¶æœå‹™èˆ‡æŠ€è¡“å”åŠ©ï¼šå¯¦æˆ°æ•™å­¸åœ°åœ–

1.  **æ‡‰ç”¨å“²å­¸**ï¼šå¾ã€Œè¢«å‹•å·¥å–®ã€è½‰å‘ã€Œä¸»å‹•å”åŠ©ã€ã€‚
2.  **å ´æ™¯é©…å‹•ï¼šè¦–è¨Šå®¢æœ (Visual CS)** â€”â€” æ¼æ°´å’–å•¡æ©Ÿçš„è¨ºæ–·ã€‚
3.  **å ´æ™¯é©…å‹•ï¼šç¾å ´æŠ€è¡“æ”¯æ´ (Field Support)** â€”â€” HVAC ç¶­ä¿®çš„å…æŒå¼•å°ã€‚
4.  **é‚è¼¯å…·è±¡åŒ–**ï¼šå‚³çµ±å®¢æœ vs. ADK é›™å‘ä¸²æµçš„æŠ€è¡“å°æ¯”ã€‚
5.  **ä»£ç¢¼æ ¸å¿ƒ**ï¼šå¯¦ç¾å³æ™‚è¦–è¦ºå›å‚³èˆ‡ä¸­æ–·è™•ç†ã€‚
6.  **çŸ¥è­˜æ”¶æ–‚**ï¼šç”Ÿç”¢ç´šæ‡‰ç”¨çš„æœ€å¾Œä¸€å“©è·¯ã€‚

---

### ä¸€ã€ å®¢æˆ¶æœå‹™ï¼šç•¶ AI æ“æœ‰äº†ã€Œçœ¼ç›ã€èˆ‡ã€ŒåŒç†å¿ƒã€

åœ¨å®¢æˆ¶æœå‹™å ´æ™¯ä¸­ï¼Œé›™å‘ä¸²æµæœ€ç›´æ¥çš„æ‡‰ç”¨æ˜¯å‰µå»ºé è¶…å‚³çµ±èŠå¤©æ©Ÿå™¨äººçš„è¤‡é›œè™›æ“¬ä»£ç†ã€‚

#### ğŸ’¡ å ´æ™¯é©…å‹• 1ï¼šæ¼æ°´å’–å•¡æ©Ÿçš„è¦–è¨Šåˆ†è¨º
**æå•ï¼š** ã€Œå°å¸«ï¼Œç•¶å®¢æˆ¶åæ˜ ç”¢å“ç‘•ç–µï¼ˆå¦‚å’–å•¡æ©Ÿåº•éƒ¨æ¼æ°´ï¼‰æ™‚ï¼ŒADK å¦‚ä½•åŠ é€Ÿè™•ç†æµç¨‹ï¼Ÿã€
**è§£æï¼š**
**é€™ä»£è¡¨ä»€éº¼ï¼Ÿ** å®¢æˆ¶ä¸å†éœ€è¦æ‰“å­—æè¿°ï¼Œåªéœ€ä½¿ç”¨æ‰‹æ©Ÿé¡é ­ç›´æ’­å•é¡Œã€‚
*   **é—œéµåœ¨æ–¼ï¼šè¦–è¦ºæ„ŸçŸ¥ (Vision Capabilities)**ã€‚AI ä»£ç†èƒ½åˆ©ç”¨è¦–è¦ºèƒ½åŠ›è­˜åˆ¥å‹è™Ÿä¸¦é–å®šå…·é«”çš„æ•…éšœé»ã€‚
*   **æƒ…æ„Ÿå°è©± (Affective Dialogue)**ï¼šé€éåŸç”ŸéŸ³è¨Šæ¨¡å‹ï¼ŒAI èƒ½æ„ŸçŸ¥å®¢æˆ¶èªæ°£ä¸­çš„æ†¤æ€’æˆ–æ²®å–ªï¼Œèª¿æ•´å›æ‡‰é¢¨æ ¼ä»¥åŒ¹é…å°è©±æ°›åœã€‚

---

### äºŒã€ æŠ€è¡“å”åŠ©ï¼šå…æŒæ“ä½œèˆ‡å³æ™‚ä¿®æ­£

å°æ–¼ç¾å ´å·¥ä½œçš„æŠ€è¡“äººå“¡ï¼ˆå¦‚é›»æ¢¯æˆ–ç©ºèª¿ç¶­ä¿®å“¡ï¼‰ï¼Œé›™å‘ä¸²æµæä¾›äº†çœŸæ­£çš„å…æŒåŠ©æ‰‹ã€‚

#### ğŸ’¡ å ´æ™¯é©…å‹• 2ï¼šç¾å ´ç©ºèª¿æ©Ÿçµ„è¨ºæ–·
**æå•ï¼š** ã€Œå¦‚æœæŠ€è¡“äººå“¡æ­£åœ¨æ‹†è§£è¤‡é›œæ©Ÿå™¨ï¼Œé›™å‘ä¸²æµå¦‚ä½•æä¾›å”åŠ©ï¼Ÿã€
**è§£æï¼š**
é€éæ™ºæ…§çœ¼é¡æˆ–æ‰‹æ©Ÿï¼ŒæŠ€è¡“äººå“¡å¯ä»¥å°‡ã€Œç¬¬ä¸€äººç¨±è¦–è§’ã€ä¸²æµçµ¦ AI ä»£ç†ã€‚
*   **å³æ™‚äº’å‹•**ï¼šæŠ€è¡“äººå“¡èƒ½é‚Šæ“ä½œé‚Šè©¢å•ï¼šã€Œä½ èƒ½è­˜åˆ¥é€™å€‹å£“ç¸®æ©Ÿç™¼å‡ºçš„ç•°éŸ³ä¸¦èª¿å‡ºè¨ºæ–·åœ–å—ï¼Ÿã€ã€‚
*   **å›æ‡‰å¼ä¸­æ–· (Responsive Interruption)**ï¼šå¦‚æœä»£ç†ç¨‹å¼èª¤èªäº†å‹è™Ÿï¼ŒæŠ€è¡“äººå“¡å¯ä»¥éš¨æ™‚æ’å˜´ï¼šã€Œä¸ï¼Œç­‰ç­‰ï¼Œæ˜¯ Model Y Proã€ï¼Œä»£ç†ç¨‹å¼æœƒç«‹å³ä¿®æ­£æµç¨‹è€Œç„¡éœ€é‡å•Ÿå°è©±ã€‚

---

### ä¸‰ã€ é‚è¼¯å…·è±¡åŒ–ï¼šæœå‹™æ¨¡å¼çš„ç¯„å¼è½‰ç§»

ç‚ºäº†å¼·åŒ–è¦–è¦ºè¨˜æ†¶ï¼Œæˆ‘å€‘å°‡å‚³çµ±æ¨¡å¼èˆ‡ ADK é›™å‘ä¸²æµåœ¨æœå‹™å ´æ™¯ä¸­çš„å·®ç•°æ•´ç†å¦‚ä¸‹ï¼š

| æœå‹™ç¶­åº¦     | å‚³çµ± AI å®¢æœ (Legacy)      | ADK é›™å‘ä¸²æµ (Bidi-streaming)      |
| :----------- | :------------------------- | :--------------------------------- |
| **é€šè¨Šæ¨¡å¼** | åƒµåŒ–çš„ã€Œæå•ä¸¦ç­‰å¾…ã€       | æµæš¢ã€è‡ªç„¶çš„é›™å‘é›»è©±æ„Ÿ             |
| **è¼¸å…¥æ¨¡æ…‹** | åƒ…é™æ–‡å­—æˆ–éœæ…‹åœ–ç‰‡         | éŸ³è¨Šã€å½±ç‰‡ã€æ–‡å­—ä¸¦è¡Œè™•ç†           |
| **éŒ¯èª¤è™•ç†** | å¿…é ˆç­‰å¾…å›æ‡‰çµæŸå¾Œé‡ç™¼æŒ‡ä»¤ | **å³æ™‚ä¸­æ–·** ä¸¦ç•¶å ´ä¿®æ­£éŒ¯èª¤        |
| **ç’°å¢ƒç†è§£** | ä¾è³´ä½¿ç”¨è€…æ–‡å­—æè¿°         | é€é **è¦–è¦ºæ„ŸçŸ¥** è‡ªå‹•ç†è§£ç‰©ç†ç’°å¢ƒ |
| **èªéŸ³é«”é©—** | æœ‰æ˜é¡¯åœé “çš„ STT/TTS å¾ªç’°  | **åŸç”Ÿå¤šæ¨¡æ…‹**ï¼Œæ¥µä½å»¶é²çš„é¡äººå°è«‡ |

---

### å››ã€ ä»£ç¢¼å³çœŸç†ï¼šå¯¦ç¾å®¢æœå ´æ™¯çš„æ ¸å¿ƒé‚è¼¯

åœ¨ç”Ÿç”¢ç´šå®¢æœæ‡‰ç”¨ä¸­ï¼Œ**ä¸Šæ¸¸ä»»å‹™** å¿…é ˆèƒ½åŒæ™‚è™•ç†èªéŸ³ï¼ˆå®¢æˆ¶èªªè©±ï¼‰èˆ‡å½±æ ¼ï¼ˆå±•ç¤ºç”¢å“ï¼‰ï¼Œè€Œ **ä¸‹æ¸¸ä»»å‹™** å‰‡éœ€è™•ç†ä¸­æ–·è¨Šè™Ÿã€‚

#### 1. ä¸Šæ¸¸ï¼šæ¥æ”¶è¦–è¦ºèˆ‡éŸ³è¨Šæ•¸æ“š
æ ¹æ“šä¾†æºç¯„ä¾‹ï¼Œæˆ‘å€‘å¯ä»¥é€é WebSocket ä¸¦è¡Œç™¼é€å¤šæ¨¡æ…‹æ•¸æ“šï¼š

```python
# [å°å¸«é»è©•]ï¼šé€™æ˜¯ Phase 3 çš„æ ¸å¿ƒã€‚
# åœ¨æŠ€è¡“å”åŠ©å ´æ™¯ä¸‹ï¼Œbytes è™•ç†éŸ³è¨Šï¼Œjson è™•ç†å½±æ ¼å¿«ç…§ã€‚

async def upstream_task() -> None:
    while True:
        message = await websocket.receive()

        # è™•ç†å®¢æˆ¶çš„èªéŸ³è¼¸å…¥ (16kHz PCM)
        if "bytes" in message:
            audio_blob = types.Blob(
                mime_type="audio/pcm;rate=16000", data=message["bytes"]
            )
            live_request_queue.send_realtime(audio_blob)

        # è™•ç†å®¢æˆ¶ä¸Šå‚³çš„ç‘•ç–µéƒ¨ä½ç…§ç‰‡
        elif "text" in message:
            json_message = json.loads(message["text"])
            if json_message.get("type") == "image":
                image_data = base64.b64decode(json_message["data"])
                image_blob = types.Blob(mime_type="image/jpeg", data=image_data)
                live_request_queue.send_realtime(image_blob)
```

#### 2. ä¸‹æ¸¸ï¼šéŸ¿æ‡‰å¼ä¸­æ–·è™•ç†
ç•¶å®¢æˆ¶åœ¨ AI èªªè©±æ™‚é€²è¡Œä¿®æ­£ï¼Œç”¨æˆ¶ç«¯å¿…é ˆç«‹å³åœæ­¢èˆŠå›æ‡‰çš„æ’­æ”¾ã€‚

```javascript
// [å°å¸«é»è©•]ï¼šé€™æ˜¯è™•ç†ã€Œæ’å˜´ã€çš„é—œéµå‰ç«¯é‚è¼¯ã€‚
// ç•¶ adkEvent.interrupted ç‚º trueï¼Œä»£è¡¨å®¢æˆ¶å·²ç™¼å‡ºä¿®æ­£æŒ‡ä»¤ã€‚

if (adkEvent.interrupted === true) {
    // ç«‹å³é€šçŸ¥éŸ³è¨Šè™•ç†å™¨åœæ­¢æ’­æ”¾
    if (audioPlayerNode) {
        audioPlayerNode.port.postMessage({ command: "endOfAudio" });
    }
    // æ¸…é™¤ UI ä¸Šçš„æ–‡å­—é¡¯ç¤ºï¼Œæº–å‚™æ¥æ”¶ä¿®æ­£å¾Œçš„å›æ‡‰
}
```

---

### äº”ã€ çŸ¥è­˜å»¶ä¼¸èˆ‡æ”¶æ–‚

åœ¨å®¢æˆ¶æœå‹™èˆ‡æŠ€è¡“å”åŠ©å ´æ™¯ä¸­ï¼ŒADK çš„åƒ¹å€¼ä¸åƒ…åœ¨æ–¼ä¸²æµï¼Œæ›´åœ¨æ–¼ **è‡ªå‹•åŒ–è½‰éŒ„**ã€‚

**å¯¦æˆ°å°å‘ç¸½çµï¼š**
*   **ç„¡éšœç¤™èˆ‡æ—¥èªŒ**ï¼šADK å…§å»ºçš„éŸ³è¨Šé€å­—ç¨¿åŠŸèƒ½ï¼Œèƒ½è‡ªå‹•ç”¢ç”Ÿå°è©±è¨˜éŒ„ï¼Œé€™å°æ–¼æŠ€è¡“å”åŠ©å¾Œçš„æœå‹™å ±å‘Šç·¨å¯«è‡³é—œé‡è¦ã€‚
*   **èªéŸ³æ´»å‹•åµæ¸¬ (VAD)**ï¼šç³»çµ±èƒ½ç²¾æº–æŒæ¡è¼ªæ›¿å°è©± (Turn-taking) çš„æ™‚æ©Ÿï¼Œæ¶ˆé™¤ç¶­ä¿®éç¨‹ä¸­å°·å°¬çš„åœé “ã€‚
*   **å¹³å°éˆæ´»æ€§**ï¼šé–‹ç™¼éšæ®µå¯ä½¿ç”¨ Gemini Live API é€²è¡Œå¿«é€ŸåŸå‹è¨­è¨ˆï¼›ç”Ÿç”¢éšæ®µå‰‡ç„¡ç¸«åˆ‡æ›è‡³ Vertex AI ä»¥ç²å¾—ä¼æ¥­ç´š SLAã€‚

é€é ADK é›™å‘ä¸²æµï¼Œæˆ‘å€‘æ­£åœ¨å°‡ã€Œå®¢æœä¸­å¿ƒã€è½‰åŒ–ç‚ºã€Œæ™ºæ…§ä»£ç†ä¸­å¿ƒã€ï¼Œè®“ AI ä¸åƒ…æ˜¯å›ç­”å•é¡Œï¼Œæ›´èƒ½é€éçœ¼ç›èˆ‡è€³æœµæˆç‚ºå°ˆå®¶çš„æ•¸ä½å¤¥ä¼´ã€‚

ğŸ·ï¸ `customer-service`, `technical-support`, `bidi-streaming`, `native-multimodal`, `real-time-ai`

---

[â† ä¸Šä¸€é ](./06-01-commerce.md) | [ä¸‹ä¸€é  â†’](./06-03-tele-health.md) | [èª²ç¨‹é¦–é  â†©](../COURSE_PLAN.md)