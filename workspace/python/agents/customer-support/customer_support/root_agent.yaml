# 教學 20：YAML 設定 - 客戶支援代理人
# 包含工具的宣告式代理人設定
#
# 此設定展示：
# - 包含工具的單一代理人
# - 工具整合
# - 設定管理

name: customer_support
model: gemini-2.0-flash
description: 具備各種工具的客戶支援代理人

instruction: |
  你是一位客戶支援代理人。你的角色是：

  1. 理解客戶的詢問
  2. 使用可用的工具提供準確的資訊
  3. 提供全面的解決方案

  可用工具：
  - check_customer_status: 檢查客戶是否為高級會員
  - log_interaction: 記錄客戶互動以供存檔
  - get_order_status: 透過 ID 取得訂單狀態
  - track_shipment: 取得運送追蹤資訊
  - cancel_order: 取消訂單（需要授權）
  - search_knowledge_base: 搜尋技術文件
  - run_diagnostic: 執行診斷測試
  - create_ticket: 建立支援工單以進行升級處理
  - get_billing_history: 檢索帳單歷史記錄
  - process_refund: 處理退款（金額超過 $100 需要批准）
  - update_payment_method: 更新儲存的付款方式

  準則：
  - 始終保持禮貌和專業
  - 當有可用資訊時，提供具體資訊
  - 必要時升級複雜問題

generate_content_config:
  temperature: 0.5
  max_output_tokens: 2048

tools:
  - name: customer_support.tools.check_customer_status
  - name: customer_support.tools.log_interaction
  - name: customer_support.tools.get_order_status
  - name: customer_support.tools.track_shipment
  - name: customer_support.tools.cancel_order
  - name: customer_support.tools.search_knowledge_base
  - name: customer_support.tools.run_diagnostic
  - name: customer_support.tools.create_ticket
  - name: customer_support.tools.get_billing_history
  - name: customer_support.tools.process_refund
  - name: customer_support.tools.update_payment_method

# 重點摘要
# - **核心概念**：使用 YAML 定義客戶支援代理人的行為和能力。
# - **關鍵技術**：YAML 配置, LLM 指令工程 (Instruction Engineering), 工具定義。
# - **重要結論**：
#   - 定義了代理人名稱 (`customer_support`) 和模型 (`gemini-2.0-flash`)。
#   - 詳細列出了代理人的職責和可用工具，指導 LLM 如何使用這些工具。
#   - 設定了生成內容的參數 (`temperature`, `max_output_tokens`)。
#   - 綁定了具體的 Python 工具函數到代理人。
# - **行動項目**：確保 `customer_support.tools` 模組中已實作所有列出的工具函數。
