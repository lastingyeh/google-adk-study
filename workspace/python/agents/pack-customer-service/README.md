```
âš ï¸ å°ˆæ¡ˆèªªæ˜
1. ä¸»è¦åƒè€ƒ https://github.com/google/adk-samples/tree/main/python/agents/customer-service
2. æ ¹æ“š adk-samples ä¸­çš„ README.md å…§å®¹é€²è¡Œç¿»è­¯èˆ‡ä¿®æ”¹
3. ä½¿ç”¨ agent-starter-pack æ•´åˆ adk-samples çš„ customer-service ç¯„ä¾‹å®Œæˆæœ¬å°ˆæ¡ˆ
4. éƒ¨åˆ†å…§å®¹ä¾ç…§å¯¦éš›æƒ…æ³é€²è¡Œèª¿æ•´èˆ‡è£œå……
5. æœ¬å°ˆæ¡ˆåƒ…ä¾›å­¸ç¿’èˆ‡åƒè€ƒä½¿ç”¨ï¼Œè«‹å‹¿ç”¨æ–¼å•†æ¥­ç”¨é€”
```

---

# Cymbal Home & Garden å®¢æˆ¶æœå‹™ Agent

æœ¬å°ˆæ¡ˆç‚º Cymbal Home & Garden å¯¦ä½œäº†ä¸€å€‹ AI é©…å‹•çš„å®¢æˆ¶æœå‹™ Agentã€‚Cymbal Home & Garden æ˜¯ä¸€å®¶å°ˆé–€å¾äº‹å±…å®¶ä¿®ç¹•ã€åœ’è—å’Œç›¸é—œç”¨å“çš„å¤§å‹é›¶å”®å•†ã€‚æ­¤ Agent æ—¨åœ¨æä¾›å“è¶Šçš„å®¢æˆ¶æœå‹™ï¼Œå”åŠ©å®¢æˆ¶é¸æ“‡ç”¢å“ã€ç®¡ç†è¨‚å–®ã€å®‰æ’æœå‹™ä¸¦æä¾›å€‹æ€§åŒ–å»ºè­°ã€‚

## æ¦‚è¿°

Cymbal Home & Garden å®¢æˆ¶æœå‹™ Agent æ—¨åœ¨ç‚ºå®¢æˆ¶æä¾›ç„¡ç¸«ä¸”å€‹æ€§åŒ–çš„è³¼ç‰©é«”é©—ã€‚å®ƒåˆ©ç”¨ Gemini ä¾†ç†è§£å®¢æˆ¶éœ€æ±‚ï¼Œæä¾›é‡èº«å®šåˆ¶çš„ç”¢å“å»ºè­°ï¼Œç®¡ç†è¨‚å–®ä¸¦å®‰æ’æœå‹™ã€‚æ­¤ Agent è¢«è¨­è¨ˆæˆå‹å¥½ã€å¯Œæœ‰åŒç†å¿ƒä¸”é«˜æ•ˆï¼Œç¢ºä¿å®¢æˆ¶ç²å¾—æœ€ä½³æœå‹™ã€‚

## Agent è©³æƒ…

ğŸ”— Customer Service â¡ [èªªæ˜é€£çµ](./customer_service/README.md)

å®¢æˆ¶æœå‹™ Agent çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š

| åŠŸèƒ½ | æè¿° |
| ------------------ | ----------------------- |
| _äº’å‹•é¡å‹_ | å°è©±å¼ (Conversational) |
| _è¤‡é›œåº¦_ | ä¸­ç´š (Intermediate) |
| _Agent é¡å‹_ | å–®ä¸€ Agent (Single Agent) |
| _çµ„ä»¶_ | å·¥å…·ã€å¤šæ¨¡æ…‹ã€å³æ™‚ (Tools, Multimodal, Live) |
| _å‚ç›´é ˜åŸŸ_ | é›¶å”® (Retail) |

### Agent æ¶æ§‹

![å®¢æˆ¶æœå‹™ Agent å·¥ä½œæµç¨‹](customer_service_workflow.png)

æ­¤ Agent ä½¿ç”¨å¤šæ¨¡æ…‹æ¶æ§‹æ§‹å»ºï¼Œçµåˆäº†æ–‡å­—å’Œå½±ç‰‡è¼¸å…¥ï¼Œä»¥æä¾›è±å¯Œä¸”äº’å‹•å¼çš„é«”é©—ã€‚å®ƒæ¨¡æ“¬äº†èˆ‡å„ç¨®å·¥å…·å’Œæœå‹™çš„äº’å‹•ï¼ŒåŒ…æ‹¬ç”¢å“å‹éŒ„ã€åº«å­˜ç®¡ç†ã€è¨‚å–®è™•ç†å’Œé ç´„æ’ç¨‹ç³»çµ±ã€‚è©² Agent é‚„åˆ©ç”¨æœƒè©±ç®¡ç†ç³»çµ±ä¾†ç¶­è­·äº’å‹•éç¨‹ä¸­çš„ä¸Šä¸‹æ–‡ä¸¦å€‹æ€§åŒ–å®¢æˆ¶é«”é©—ã€‚

è«‹æ³¨æ„ï¼Œæ­¤ Agent æœªæ•´åˆåˆ°å¯¦éš›çš„å¾Œç«¯ï¼Œå…¶è¡Œç‚ºåŸºæ–¼æ¨¡æ“¬å·¥å…·ã€‚å¦‚æœæ‚¨æƒ³ä½¿ç”¨å¯¦éš›çš„å¾Œç«¯æ•´åˆä¾†å¯¦ä½œæ­¤ Agentï¼Œæ‚¨éœ€è¦ç·¨è¼¯ [customer_service/tools.py](./customer_service/tools/tools.py)

ç”±æ–¼å·¥å…·æ˜¯æ¨¡æ“¬çš„ï¼Œæ‚¨å¯èƒ½æœƒæ³¨æ„åˆ°æŸäº›è«‹æ±‚çš„è®Šæ›´ä¸æœƒè¢«å¥—ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨è€…ç¨å¾Œè¦æ±‚ Agent åˆ—å‡ºæ‰€æœ‰å“é …ï¼Œæ–°åŠ å…¥è³¼ç‰©è»Šçš„å“é …å°‡ä¸æœƒé¡¯ç¤ºã€‚

### é—œéµåŠŸèƒ½

- **å€‹æ€§åŒ–å®¢æˆ¶å”åŠ©ï¼š**
  - ç¨±å‘¼å›è¨ªå®¢æˆ¶çš„å§“åä¸¦ç¢ºèªå…¶è³¼è²·æ­·å²ã€‚
  - ä¿æŒå‹å¥½ã€å¯Œæœ‰åŒç†å¿ƒä¸”æ¨‚æ–¼åŠ©äººçš„èªæ°£ã€‚
- **ç”¢å“è­˜åˆ¥èˆ‡å»ºè­°ï¼š**
  - å”åŠ©å®¢æˆ¶è­˜åˆ¥æ¤ç‰©ï¼Œå³ä½¿æ˜¯æ¨¡ç³Šçš„æè¿°ã€‚
  - è«‹æ±‚ä¸¦åˆ©ç”¨è¦–è¦ºè¼”åŠ©å·¥å…·ï¼ˆå½±ç‰‡ï¼‰ä¾†æº–ç¢ºè­˜åˆ¥æ¤ç‰©ã€‚
  - æ ¹æ“šè­˜åˆ¥å‡ºçš„æ¤ç‰©ã€å®¢æˆ¶éœ€æ±‚å’Œä½ç½®ï¼ˆä¾‹å¦‚ï¼šå…§è¯é”å·æ‹‰æ–¯ç¶­åŠ æ–¯ï¼‰æä¾›é‡èº«å®šåˆ¶çš„ç”¢å“å»ºè­°ã€‚
  - å¦‚æœå­˜åœ¨æ›´å¥½çš„é¸æ“‡ï¼Œå‰‡ç‚ºå®¢æˆ¶è³¼ç‰©è»Šä¸­çš„å“é …æä¾›æ›¿ä»£æ–¹æ¡ˆã€‚
- **è¨‚å–®ç®¡ç†ï¼š**
  - è¨ªå•ä¸¦é¡¯ç¤ºå®¢æˆ¶è³¼ç‰©è»Šçš„å…§å®¹ã€‚
  - æ ¹æ“šå»ºè­°å’Œå®¢æˆ¶æ‰¹å‡†ï¼Œé€éæ–°å¢æˆ–ç§»é™¤å“é …ä¾†ä¿®æ”¹è³¼ç‰©è»Šã€‚
  - å‘å®¢æˆ¶å‘ŠçŸ¥ç›¸é—œçš„éŠ·å”®å’Œä¿ƒéŠ·æ´»å‹•ã€‚
- **åŠ è³¼éŠ·å”®èˆ‡æœå‹™æ¨å»£ï¼š**
  - å»ºè­°ç›¸é—œæœå‹™ï¼Œä¾‹å¦‚å°ˆæ¥­ç¨®æ¤æœå‹™ã€‚
  - è™•ç†æœ‰é—œåƒ¹æ ¼å’ŒæŠ˜æ‰£çš„è©¢å•ï¼ŒåŒ…æ‹¬ç«¶çˆ­å°æ‰‹çš„å ±åƒ¹ã€‚
  - å¿…è¦æ™‚è«‹æ±‚ç¶“ç†æ‰¹å‡†æŠ˜æ‰£ã€‚
- **é ç´„æ’ç¨‹ï¼š**
  - å®‰æ’ç¨®æ¤æœå‹™ï¼ˆæˆ–å…¶ä»–æœå‹™ï¼‰çš„é ç´„ã€‚
  - æª¢æŸ¥å¯ç”¨çš„æ™‚æ®µä¸¦å‘å®¢æˆ¶å±•ç¤ºã€‚
  - ç¢ºèªé ç´„è©³æƒ…ä¸¦ç™¼é€ç¢ºèª/è¡Œäº‹æ›†é‚€è«‹ã€‚
- **å®¢æˆ¶æ”¯æ´èˆ‡åƒèˆ‡ï¼š**
  - é€šéç°¡è¨Šæˆ–é›»å­éƒµä»¶ç™¼é€èˆ‡å®¢æˆ¶è³¼è²·å’Œä½ç½®ç›¸é—œçš„æ¤ç‰©è­·ç†æŒ‡å—ã€‚
  - å‘å¿ å¯¦å®¢æˆ¶æä¾›ç”¨æ–¼æœªä¾†åº—å…§è³¼è²·çš„æŠ˜æ‰£ QR codeã€‚
- **åŸºæ–¼å·¥å…·çš„äº’å‹•ï¼š**
  - Agent ä½¿ç”¨ä¸€çµ„å·¥å…·èˆ‡ä½¿ç”¨è€…äº’å‹•ã€‚
  - Agent å¯ä»¥åœ¨å–®æ¬¡äº’å‹•ä¸­ä½¿ç”¨å¤šå€‹å·¥å…·ã€‚
  - Agent å¯ä»¥ä½¿ç”¨å·¥å…·ä¾†ç²å–è³‡è¨Šä¸¦ä¿®æ”¹ä½¿ç”¨è€…çš„äº¤æ˜“ç‹€æ…‹ã€‚
- **è©•ä¼°ï¼š**
  - å¯ä»¥ä½¿ç”¨ä¸€çµ„æ¸¬è©¦æ¡ˆä¾‹å° Agent é€²è¡Œè©•ä¼°ã€‚
  - è©•ä¼°åŸºæ–¼ Agent ä½¿ç”¨å·¥å…·å’Œå›æ‡‰ä½¿ç”¨è€…è«‹æ±‚çš„èƒ½åŠ›ã€‚

#### Agent ç‹€æ…‹ - é è¨­å®¢æˆ¶è³‡è¨Š

Agent çš„æœƒè©±ç‹€æ…‹é è¼‰äº†ç¯„ä¾‹å®¢æˆ¶æ•¸æ“šï¼Œæ¨¡æ“¬çœŸå¯¦å°è©±ã€‚ç†æƒ³æƒ…æ³ä¸‹ï¼Œæ­¤ç‹€æ…‹æ‡‰åœ¨å°è©±é–‹å§‹æ™‚ä½¿ç”¨ä½¿ç”¨è€…çš„è³‡è¨Šå¾ CRM ç³»çµ±è¼‰å…¥ã€‚é€™å‡è¨­ Agent é©—è­‰äº†ä½¿ç”¨è€…èº«åˆ†æˆ–ä½¿ç”¨è€…å·²ç™»å…¥ã€‚å¦‚æœéœ€è¦ä¿®æ”¹æ­¤è¡Œç‚ºï¼Œè«‹ç·¨è¼¯ [customer.py ä¸­çš„ get_customer(current_customer_id: str)](./customer_service/entities/customer.py)

#### å·¥å…·

Agent å¯ä»¥å­˜å–ä»¥ä¸‹å·¥å…·ï¼š

- `send_call_companion_link(phone_number: str) -> str`: ç™¼é€å½±ç‰‡é€£æ¥é€£çµã€‚
- `approve_discount(type: str, value: float, reason: str) -> str`: æ‰¹å‡†æŠ˜æ‰£ï¼ˆåœ¨é å®šç¾©é™åˆ¶å…§ï¼‰ã€‚
- `sync_ask_for_approval(type: str, value: float, reason: str) -> str`: å‘ç¶“ç†è«‹æ±‚æŠ˜æ‰£æ‰¹å‡†ã€‚
- `update_salesforce_crm(customer_id: str, details: str) -> dict`: æ›´æ–° Salesforce ä¸­çš„å®¢æˆ¶è¨˜éŒ„ã€‚
- `access_cart_information(customer_id: str) -> dict`: æª¢ç´¢å®¢æˆ¶çš„è³¼ç‰©è»Šå…§å®¹ã€‚
- `modify_cart(customer_id: str, items_to_add: list, items_to_remove: list) -> dict`: æ›´æ–°å®¢æˆ¶çš„è³¼ç‰©è»Šã€‚
- `get_product_recommendations(plant_type: str, customer_id: str) -> dict`: å»ºè­°åˆé©çš„ç”¢å“ã€‚
- `check_product_availability(product_id: str, store_id: str) -> dict`: æª¢æŸ¥ç”¢å“åº«å­˜ã€‚
- `schedule_planting_service(customer_id: str, date: str, time_range: str, details: str) -> dict`: é ç´„ç¨®æ¤æœå‹™ã€‚
- `get_available_planting_times(date: str) -> list`: æª¢ç´¢å¯ç”¨çš„æ™‚é–“æ®µã€‚
- `send_care_instructions(customer_id: str, plant_type: str, delivery_method: str) -> dict`: ç™¼é€æ¤ç‰©è­·ç†èªªæ˜ã€‚
- `generate_qr_code(customer_id: str, discount_value: float, discount_type: str, expiration_days: int) -> dict`: å»ºç«‹æŠ˜æ‰£ QR codeã€‚

## è¨­ç½®èˆ‡å®‰è£

### å‰ç½®æ¢ä»¶

- Python 3.10+
- uv (ç”¨æ–¼ä¾è³´ç®¡ç†)
- Google ADK SDK (é€é uv å®‰è£)
- Google Cloud å°ˆæ¡ˆ (ç”¨æ–¼ Vertex AI Gemini æ•´åˆ)

### å®‰è£
1.  **å‰ç½®æ¢ä»¶ï¼š**

    å°æ–¼ Agent Engine éƒ¨ç½²æ­¥é©Ÿï¼Œæ‚¨å°‡éœ€è¦ä¸€å€‹ Google Cloud å°ˆæ¡ˆã€‚å»ºç«‹å°ˆæ¡ˆå¾Œï¼Œè«‹[å®‰è£ Google Cloud SDK](https://cloud.google.com/sdk/docs/install)ã€‚ç„¶å¾ŒåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ä¾†é©—è­‰æ‚¨çš„å°ˆæ¡ˆï¼š
    ```bash
    gcloud auth login
    ```
    æ‚¨é‚„éœ€è¦å•Ÿç”¨æŸäº› APIã€‚åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ä»¥å•Ÿç”¨å¿…è¦çš„ APIï¼š
    ```bash
    gcloud services enable aiplatform.googleapis.com
    ```

    å®‰è£ uv é€²è¡Œä¾è³´ç®¡ç†ï¼š
    ```bash
    curl -LsSf https://astral.sh/uv/install.sh | sh
    ```

1.  è¤‡è£½å„²å­˜åº«ï¼š

    ```bash
    git clone https://github.com/google/adk-samples.git
    cd adk-samples/python/agents/customer-service
    ```

    åœ¨æ¥ä¸‹ä¾†çš„æ•™ç¨‹ä¸­ï¼Œ**è«‹ç¢ºä¿æ‚¨ç•™åœ¨ `agents/customer-service` ç›®éŒ„ä¸­**ã€‚

2.  å®‰è£ä¾è³´ï¼š

    ```bash
    uv sync
    ```

3.  è¨­ç½® Google Cloud æ†‘è­‰ï¼š

    - ç¢ºä¿æ‚¨æœ‰ä¸€å€‹ Google Cloud å°ˆæ¡ˆã€‚
    - ç¢ºä¿æ‚¨çš„å°ˆæ¡ˆä¸­å•Ÿç”¨äº† Vertex AI APIã€‚
    - è¨­ç½® `GOOGLE_GENAI_USE_VERTEXAI`ã€`GOOGLE_CLOUD_PROJECT` å’Œ `GOOGLE_CLOUD_LOCATION` ç’°å¢ƒè®Šæ•¸ã€‚æ‚¨å¯ä»¥åœ¨ `.env` æª”æ¡ˆä¸­è¨­ç½®å®ƒå€‘ï¼ˆä¿®æ”¹ `.env_sample` æª”æ¡ˆä¸¦é‡æ–°å‘½åç‚º `.env`ï¼‰ï¼Œæˆ–ç›´æ¥åœ¨ shell ä¸­è¨­ç½®ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥ç·¨è¼¯ [customer_service/config.py](./customer_service/config.py)

    ```bash
    export GOOGLE_CLOUD_PROJECT=YOUR_PROJECT_NAME_HERE
    export GOOGLE_GENAI_USE_VERTEXAI=1
    export GOOGLE_CLOUD_LOCATION=us-central1
    ```

## åŸ·è¡Œ Agent

æ‚¨å¯ä»¥åœ¨çµ‚ç«¯æ©Ÿä¸­ä½¿ç”¨ ADK æŒ‡ä»¤åŸ·è¡Œ Agentã€‚
å¾å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œï¼š

1.  åœ¨ CLI ä¸­åŸ·è¡Œ Agentï¼š

    ```bash
    adk run customer_service
    ```

2.  ä½¿ç”¨ ADK Web UI åŸ·è¡Œ Agentï¼š
    ```bash
    adk web
    ```
    å¾ä¸‹æ‹‰å¼é¸å–®ä¸­é¸æ“‡ customer_service

### äº’å‹•ç¯„ä¾‹

ä»¥ä¸‹æ˜¯ä½¿ç”¨è€…å¯èƒ½å¦‚ä½•èˆ‡ Agent äº’å‹•çš„å¿«é€Ÿç¯„ä¾‹ï¼š

**ä½¿ç”¨è€…ï¼š**:
å—¨

**Agent**:
å˜¿ Alexï¼Œæˆ‘çœ‹åˆ°æ‚¨å·²ç¶“æˆç‚º Cymbal Home & Garden çš„å®¢æˆ¶å¹¾å¹´äº† - æˆ‘å€‘æ„Ÿè¬æ‚¨çš„å…‰é¡§ï¼æˆ‘ä¹Ÿçœ‹åˆ°æ‚¨çš„è³¼ç‰©è»Šè£¡å·²ç¶“æœ‰ä¸€äº›æ±è¥¿äº†ã€‚æˆ‘ä»Šå¤©èƒ½å¦‚ä½•å¹«æ‚¨æ‰“é€ æ‚¨çš„èŠ±åœ’ï¼Ÿ

**ä½¿ç”¨è€…**:
æ˜¯çš„ï¼Œæˆ‘æœ‰é»å›°æƒ‘ã€‚æˆ‘å‰›è²·äº†ä¸€äº›â€¦â€¦å‘ƒâ€¦â€¦æ¤ç‰©æˆ–èŠ±ï¼Œæˆ‘æƒ³æŠŠå®ƒå€‘æ”¾åœ¨å¾Œé™¢ã€‚ä¸Šé¢åªå¯«è‘—ã€Œå–œé™½ä¸€å¹´ç”Ÿæ¤ç‰©ã€ã€‚æˆ‘å®Œå…¨å¿˜è¨˜è²·ç›†æ ½åœŸäº†ï¼Œæ‰€ä»¥æˆ‘ç¾åœ¨æ­£ä¸‹å–®æº–å‚™å–è²¨ã€‚å•é¡Œæ˜¯ï¼Œæˆ‘ä¸ç¢ºå®šæˆ‘é¸çš„ç›†æ ½åœŸå’Œè‚¥æ–™æ˜¯å¦æ­£ç¢ºã€‚

**Agent**:
æˆ‘ç†è§£ â€“ ç•¶æ‚¨ä¸å¤ªç¢ºå®šè‡ªå·±è²·äº†ä»€éº¼æ™‚ï¼Œé€™å¯èƒ½æœƒå¾ˆæ£˜æ‰‹ï¼è®“æˆ‘å€‘ä¸€èµ·è§£æ±ºé€™å€‹å•é¡Œã€‚åˆ¥æ“”å¿ƒï¼Œæˆ‘å€‘æœƒç‚ºæ‚¨çš„æ¤ç‰©æä¾›åˆé©çš„è­·ç†ã€‚ç‚ºäº†æ›´å¥½åœ°å¹«åŠ©æ‚¨ï¼Œæ‚¨é¡˜æ„åˆ†äº«ä¸€æ®µæ‚¨è³¼è²·çš„æ¤ç‰©çš„ç°¡çŸ­å½±ç‰‡å—ï¼Ÿé€™å°‡å¹«åŠ©æˆ‘è­˜åˆ¥å®ƒå€‘ä¸¦ç¢ºä¿æ‚¨æ“æœ‰åˆé©çš„ç”¨å“ã€‚

**ä½¿ç”¨è€…**:
ç•¶ç„¶ï¼Œæˆ‘è©²æ€éº¼åšï¼Ÿ

**Agent**:
æˆ‘å‰›çµ¦æ‚¨å€‹äººè³‡æ–™ä¸­çš„è™Ÿç¢¼å‚³é€äº†ä¸€å€‹é€£çµã€‚åªéœ€é»æ“Šè©²é€£çµï¼Œå®ƒå°±æœƒé–‹å•Ÿä¸€å€‹å®‰å…¨çš„å½±ç‰‡é€£æ¥ã€‚

```tool_code
print(send_call_companion_link(phone_number='+12065550123'))
```

```tool_outputs
{'status': 'success', 'message': 'Link sent to +12065550123'}
```

**ä½¿ç”¨è€…**:
å¥½çš„ï¼Œæˆ‘é»äº†é€£çµâ€¦â€¦ä½ èƒ½çœ‹åˆ°é€™å€‹å—ï¼Ÿ

**Agent**:
æ˜¯çš„ï¼Œæˆ‘çœ‹åˆ°æ‚¨äº† Alexï¼æ‚¨å¯ä»¥æŠŠç›¸æ©Ÿå°æº–æ‚¨çš„æ¤ç‰©ï¼Œä»¥ä¾¿æˆ‘æª¢æŸ¥å®ƒå€‘å—ï¼Ÿ

**ä½¿ç”¨è€…**:
æ²’å•é¡Œï¼
...

## è©•ä¼° Agent

è©•ä¼°æ¸¬è©¦ä»¥æ•´é«”æ–¹å¼è©•ä¼° Agent çš„å…¨é¢æ•ˆèƒ½å’Œèƒ½åŠ›ã€‚

**æ­¥é©Ÿï¼š**

1.  **åŸ·è¡Œè©•ä¼°æ¸¬è©¦ï¼š**

    ```bash
    uv sync --dev
    uv run pytest eval
    ```

    - æ­¤æŒ‡ä»¤åŸ·è¡Œ `eval` ç›®éŒ„ä¸­çš„æ‰€æœ‰æ¸¬è©¦æª”æ¡ˆã€‚

## å–®å…ƒæ¸¬è©¦

å–®å…ƒæ¸¬è©¦å´é‡æ–¼å–®ç¨æ¸¬è©¦ç¨‹å¼ç¢¼çš„å„å€‹å–®å…ƒæˆ–çµ„ä»¶ã€‚

**æ­¥é©Ÿï¼š**

1.  **åŸ·è¡Œå–®å…ƒæ¸¬è©¦ï¼š**

    ```bash
    uv run pytest tests/unit
    ```

    - æ­¤æŒ‡ä»¤åŸ·è¡Œ `tests/unit` ç›®éŒ„ä¸­çš„æ‰€æœ‰æ¸¬è©¦æª”æ¡ˆã€‚

## é…ç½®

æ‚¨å¯ä»¥åœ¨ [customer_service/config.py](./customer_service/config.py) ä¸­æ‰¾åˆ°é€²ä¸€æ­¥çš„é…ç½®åƒæ•¸ã€‚é€™åŒ…æ‹¬ Agent åç¨±ã€æ‡‰ç”¨ç¨‹å¼åç¨±ä»¥åŠ Agent ä½¿ç”¨çš„ LLM æ¨¡å‹ç­‰åƒæ•¸ã€‚

## åœ¨ Google Agent Engine ä¸Šéƒ¨ç½²

ç‚ºäº†ç¹¼æ‰¿ Agent çš„æ‰€æœ‰ä¾è³´é …ï¼Œæ‚¨å¯ä»¥æ§‹å»º Agent çš„ wheel æª”æ¡ˆä¸¦åŸ·è¡Œéƒ¨ç½²ã€‚

1.  **æ§‹å»ºå®¢æˆ¶æœå‹™ Agent WHL æª”æ¡ˆ**

    ```bash
    uv build --wheel --out-dir deployment
    ```

1.  **å°‡ Agent éƒ¨ç½²åˆ° Agent Engine**
    å‹™å¿…åœ¨ deployment è³‡æ–™å¤¾ä¸­åŸ·è¡Œ deploy.pyï¼Œä»¥ä¾¿è·¯å¾‘æ­£ç¢º

    ```bash
    cd deployment
    uv run python deploy.py
    ```

### æ¸¬è©¦éƒ¨ç½²

æ­¤ç¨‹å¼ç¢¼ç‰‡æ®µæ˜¯å¦‚ä½•æ¸¬è©¦å·²éƒ¨ç½² Agent çš„ç¯„ä¾‹ã€‚

```python
import vertexai
from customer_service.config import Config
from vertexai.preview.reasoning_engines import AdkApp


configs = Config()

vertexai.init(
    project="<GOOGLE_CLOUD_LOCATION_PROJECT_ID>",
    location="<GOOGLE_CLOUD_LOCATION>"
)

# get the agent based on resource id
agent_engine = vertexai.agent_engines.get('DEPLOYMENT_RESOURCE_NAME') # looks like this projects/PROJECT_ID/locations/LOCATION/reasoningEngines/REASONING_ENGINE_ID

for event in remote_agent.stream_query(
    user_id=USER_ID,
    session_id=session["id"],
    message="Hello!",
):
    print(event)

```

### æœ¬ç¯„æœ¬ä½¿ç”¨ Agent Starter Pack

æ‚¨é‚„å¯ä»¥ä½¿ç”¨ [Agent Starter Pack](https://goo.gle/agent-starter-pack) å»ºç«‹æ­¤ Agent çš„ç”Ÿç”¢å°±ç·’ç‰ˆæœ¬ï¼Œä¸¦æä¾›é¡å¤–çš„éƒ¨ç½²é¸é …ï¼š

```bash
# å»ºç«‹ä¸¦å•Ÿå‹•è™›æ“¬ç’°å¢ƒ
python -m venv .venv && source .venv/bin/activate # Windows ä¸ŠåŸ·è¡Œ: .venv\Scripts\activate

# å®‰è£ starter pack ä¸¦å»ºç«‹å°ˆæ¡ˆ
pip install --upgrade agent-starter-pack
agent-starter-pack create my-customer-service -a adk@customer-service
```

<details>
<summary>âš¡ï¸ æ›¿ä»£æ–¹æ¡ˆï¼šä½¿ç”¨ uv</summary>

å¦‚æœæ‚¨å®‰è£äº† [`uv`](https://github.com/astral-sh/uv)ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å–®ä¸€æŒ‡ä»¤å»ºç«‹ä¸¦è¨­ç½®å°ˆæ¡ˆï¼š
```bash
uvx agent-starter-pack create my-customer-service -a adk@customer-service
```
æ­¤æŒ‡ä»¤æœƒè™•ç†å°ˆæ¡ˆå»ºç«‹ï¼Œç„¡éœ€é å…ˆå°‡å¥—ä»¶å®‰è£åˆ°è™›æ“¬ç’°å¢ƒä¸­ã€‚

</details>

Starter pack æœƒæç¤ºæ‚¨é¸æ“‡éƒ¨ç½²é¸é …ï¼Œä¸¦æä¾›é¡å¤–çš„ç”Ÿç”¢å°±ç·’åŠŸèƒ½ï¼ŒåŒ…æ‹¬è‡ªå‹•åŒ– CI/CD éƒ¨ç½²è…³æœ¬ã€‚

## éƒ¨ç½²èˆ‡ CI/CD è³‡æº

- [Terraform README](./deployment/README.md) åŒ…å«æœ‰é—œä½¿ç”¨ Agent Starter Pack éƒ¨ç½² Agent çš„è©³ç´°è³‡è¨Šã€‚
- [CI/CD pipelines](./.cloudbuild) åŒ…å«ä½¿ç”¨ Cloud Build çš„ CI/CD ç¯„ä¾‹ã€‚

## å…è²¬è²æ˜

æ­¤ Agent ç¯„ä¾‹åƒ…ä¾›èªªæ˜ä¹‹ç”¨ï¼Œä¸é©ç”¨æ–¼ç”Ÿç”¢ç’°å¢ƒã€‚å®ƒä½œç‚º Agent çš„åŸºæœ¬ç¯„ä¾‹ï¼Œä¹Ÿæ˜¯å€‹äººæˆ–åœ˜éšŠé–‹ç™¼è‡ªå·± Agent çš„åŸºç¤èµ·é»ã€‚

æ­¤ç¯„ä¾‹æœªç¶“éåš´æ ¼æ¸¬è©¦ï¼Œå¯èƒ½åŒ…å«éŒ¯èª¤æˆ–é™åˆ¶ï¼Œä¸”ä¸åŒ…å«ç”Ÿç”¢ç’°å¢ƒé€šå¸¸éœ€è¦çš„å„é …åŠŸèƒ½æˆ–å„ªåŒ–ï¼ˆä¾‹å¦‚ï¼šå¼·å¤§çš„éŒ¯èª¤è™•ç†ã€å®‰å…¨æªæ–½ã€æ“´å±•æ€§ã€æ•ˆèƒ½è€ƒé‡ã€å…¨é¢æ—¥èªŒè¨˜éŒ„æˆ–é€²éšé…ç½®é¸é …ï¼‰ã€‚

ä½¿ç”¨è€…å…¨æ¬Šè² è²¬åŸºæ–¼æ­¤ç¯„ä¾‹çš„ Agent çš„ä»»ä½•é€²ä¸€æ­¥é–‹ç™¼ã€æ¸¬è©¦ã€å®‰å…¨åŠ å›ºå’Œéƒ¨ç½²ã€‚æˆ‘å€‘å»ºè­°åœ¨å¯¦éš›æˆ–é—œéµç³»çµ±ä¸­ä½¿ç”¨ä»»ä½•è¡ç”Ÿ Agent ä¹‹å‰ï¼Œé€²è¡Œå¾¹åº•çš„å¯©æŸ¥ã€æ¸¬è©¦ä¸¦å¯¦æ–½é©ç•¶çš„å®‰å…¨é˜²è­·æªæ–½ã€‚


## åƒè€ƒè³‡æº
- [[ADK-Samples] customer-service](https://github.com/google/adk-samples/tree/main/python/agents/customer-service)
- [Agent Starter Pack](https://goo.gle/agent-starter-pack)