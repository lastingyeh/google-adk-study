### ç¿»è­¯å…§å®¹
```makefile
# æ•™å­¸ 29ï¼šUI æ•´åˆå¿«é€Ÿå…¥é–€
# ç”¨æ–¼ç®¡ç†å¾Œç«¯èˆ‡å‰ç«¯çš„ Makefile

.PHONY: help setup setup-backend setup-frontend dev dev-backend dev-frontend test clean demo

# é è¨­ç›®æ¨™ - é¡¯ç¤ºå¹«åŠ©è¨Šæ¯
help:
	@echo "ðŸš€ æ•™å­¸ 29ï¼šUI æ•´åˆå¿«é€Ÿå…¥é–€"
	@echo ""
	@echo "å¿«é€Ÿå…¥é–€æŒ‡ä»¤ï¼š"
	@echo "  make setup          - å®‰è£æ‰€æœ‰ä¾è³´é … (å¾Œç«¯ + å‰ç«¯)"
	@echo "  make dev            - å•Ÿå‹•å¾Œç«¯èˆ‡å‰ç«¯ä¼ºæœå™¨"
	@echo "  make dev-backend    - åƒ…å•Ÿå‹•å¾Œç«¯ä¼ºæœå™¨"
	@echo "  make dev-frontend   - åƒ…å•Ÿå‹•å‰ç«¯ä¼ºæœå™¨"
	@echo "  make demo           - é¡¯ç¤ºç¯„ä¾‹æç¤ºèˆ‡ç”¨æ³•"
	@echo ""
	@echo "é€²éšŽæŒ‡ä»¤ï¼š"
	@echo "  make test           - åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦"
	@echo "  make clean          - æ¸…ç†ç”Ÿæˆçš„æª”æ¡ˆ"
	@echo ""
	@echo "ðŸ’¡ ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Ÿè«‹åŸ·è¡Œï¼šmake setup && make dev"
	@echo ""
	@echo "æž¶æ§‹ï¼š"
	@echo "  å¾Œç«¯ï¼š Python FastAPI + ADK agent (åŸ è™Ÿ 8000)"
	@echo "  å‰ç«¯ï¼š React + Vite + CopilotKit (åŸ è™Ÿ 5173)"

# å®‰è£æ‰€æœ‰ä¾è³´é …
setup: setup-backend setup-frontend
	@echo "âœ… è¨­å®šå®Œæˆï¼"
	@echo ""
	@echo "å¾ŒçºŒæ­¥é©Ÿï¼š"
	@echo "  1. è¨­å®š API é‡‘é‘°ï¼š cp agent/.env.example agent/.env"
	@echo "  2. ç·¨è¼¯ agent/.env ä¸¦åŠ å…¥æ‚¨çš„ GOOGLE_API_KEY"
	@echo "  3. åŸ·è¡Œï¼šmake dev"

# å®‰è£å¾Œç«¯ä¾è³´é …
setup-backend:
	@echo "ðŸ“¦ æ­£åœ¨å®‰è£å¾Œç«¯ä¾è³´é …..."
	pip install -r requirements.txt
	pip install -e .
	@echo "âœ… å¾Œç«¯è¨­å®šå®Œæˆï¼"

# å®‰è£å‰ç«¯ä¾è³´é …
setup-frontend:
	@echo "ðŸ“¦ æ­£åœ¨å®‰è£å‰ç«¯ä¾è³´é …..."
	@if [ ! -d "frontend/node_modules" ]; then \
		cd frontend && npm install; \
	else \
		echo "å‰ç«¯ä¾è³´é …å·²å®‰è£ã€‚è‹¥è¦é‡æ–°å®‰è£ï¼Œè«‹åŸ·è¡Œ 'make clean'ã€‚"; \
	fi
	@echo "âœ… å‰ç«¯è¨­å®šå®Œæˆï¼"

# åŒæ™‚å•Ÿå‹•å¾Œç«¯èˆ‡å‰ç«¯
dev:
	@echo "ðŸš€ æ­£åœ¨å•Ÿå‹•å¾Œç«¯èˆ‡å‰ç«¯ä¼ºæœå™¨..."
	@echo ""
	@echo "é€™å°‡æœƒé–‹å•Ÿå…©å€‹çµ‚ç«¯æ©Ÿï¼š"
	@echo "  çµ‚ç«¯æ©Ÿ 1ï¼šå¾Œç«¯ (http://localhost:8000)"
	@echo "  çµ‚ç«¯æ©Ÿ 2ï¼šå‰ç«¯ (http://localhost:5173)"
	@echo ""
	@echo "æŒ‰ä¸‹ Ctrl+C ä¾†åœæ­¢å…©å€‹ä¼ºæœå™¨"
	@echo ""
	@$(MAKE) dev-parallel

# å¹³è¡Œå•Ÿå‹•å¾Œç«¯èˆ‡å‰ç«¯ (å…§éƒ¨ä½¿ç”¨)
dev-parallel: check-env
	@trap 'kill 0' EXIT; \
	(cd agent && python agent.py) & \
	(cd frontend && npm run dev) & \
	wait

# åƒ…å•Ÿå‹•å¾Œç«¯ä¼ºæœå™¨
dev-backend: check-env
	@echo "ðŸ¤– æ­£åœ¨å•Ÿå‹•å¾Œç«¯ä¼ºæœå™¨..."
	@echo "ðŸ“± ä¼ºæœå™¨ï¼š http://localhost:8000"
	@echo "ðŸ“š API æ–‡ä»¶ï¼š http://localhost:8000/docs"
	@echo "ðŸ’¬ CopilotKit ç«¯é»žï¼š http://localhost:8000/api/copilotkit"
	@echo ""
	cd agent && python agent.py

# åƒ…å•Ÿå‹•å‰ç«¯ä¼ºæœå™¨
dev-frontend:
	@echo "ðŸŒ æ­£åœ¨å•Ÿå‹•å‰ç«¯ä¼ºæœå™¨..."
	@echo "ðŸ“± åœ¨æ‚¨çš„ç€è¦½å™¨ä¸­é–‹å•Ÿ http://localhost:5173"
	@echo ""
	@echo "âš ï¸  è«‹ç¢ºä¿å¾Œç«¯æ­£åœ¨åŸ è™Ÿ 8000 ä¸Šé‹è¡Œ"
	@echo "    åœ¨å¦ä¸€å€‹çµ‚ç«¯æ©Ÿä¸­åŸ·è¡Œï¼šmake dev-backend"
	@echo ""
	cd frontend && npm run dev

# åŸ·è¡Œæ¸¬è©¦
test: check-env
	@echo "ðŸ§ª æ­£åœ¨åŸ·è¡Œæ¸¬è©¦..."
	pytest tests/ -v --tb=short

# åŸ·è¡Œç¯„ä¾‹
demo: check-env
	@echo "ðŸ’¬ ç¯„ä¾‹ï¼šæ•™å­¸ 29 - UI æ•´åˆå¿«é€Ÿå…¥é–€"
	@echo ""
	@echo "=================================="
	@echo "åœ¨èŠå¤© UI ä¸­å˜—è©¦é€™äº›æç¤ºï¼š"
	@echo "=================================="
	@echo ""
	@echo "ðŸ¤– ä¸€èˆ¬å•é¡Œï¼š"
	@echo "  â€¢ 'ä»€éº¼æ˜¯ Google ADKï¼Ÿ'"
	@echo "  â€¢ 'AG-UI å”å®šå¦‚ä½•é‹ä½œï¼Ÿ'"
	@echo "  â€¢ 'è§£é‡‹ UI æ•´åˆçš„å„ªé»ž'"
	@echo "  â€¢ 'ä½ èƒ½å¹«æˆ‘åšä»€éº¼ï¼Ÿ'"
	@echo ""
	@echo "ðŸ“š å­¸ç¿’ï¼š"
	@echo "  â€¢ 'å‘Šè¨´æˆ‘ä¸åŒçš„ UI æ•´åˆæ–¹æ³•'"
	@echo "  â€¢ 'æˆ‘æ‡‰è©²ä½•æ™‚ä½¿ç”¨ CopilotKit è€Œä¸æ˜¯åŽŸç”Ÿ APIï¼Ÿ'"
	@echo "  â€¢ 'å¦‚ä½•éƒ¨ç½² ADK ä»£ç†ï¼Ÿ'"
	@echo ""
	@echo "=================================="
	@echo ""
	@echo "ä½¿ç”¨èªªæ˜Žï¼š"
	@echo "  1. å•Ÿå‹•ä¼ºæœå™¨ï¼šmake dev"
	@echo "  2. é–‹å•Ÿ http://localhost:5173"
	@echo "  3. è¼¸å…¥ä»¥ä¸Šä»»ä½•æç¤º"
	@echo "  4. ä»£ç†å°‡ä½¿ç”¨ Gemini å›žæ‡‰ï¼"
	@echo ""
	@echo "æž¶æ§‹ï¼š"
	@echo "  ä½¿ç”¨è€… â†’ React/Vite (åŸ è™Ÿ 5173) â†’ FastAPI (åŸ è™Ÿ 8000) â†’ ADK ä»£ç† â†’ Gemini"

# æ¸…ç†
clean:
	@echo "ðŸ§¹ æ­£åœ¨æ¸…ç†..."
	find . -type f -name "*.pyc" -delete
	find . -type d -name "__pycache__" -delete
	find . -type d -name "*.egg-info" -exec rm -rf {} + 2>/dev/null || true
	rm -rf .pytest_cache/
	cd frontend && rm -rf dist/ node_modules/.cache/ || true
	@echo "âœ… æ¸…ç†å®Œæˆï¼"

# æª¢æŸ¥ç’°å¢ƒ (å…§éƒ¨ä½¿ç”¨)
check-env:
	@if [ -z "$$GOOGLE_API_KEY" ] && [ -z "$$GOOGLE_APPLICATION_CREDENTIALS" ]; then \
		echo "âŒ éŒ¯èª¤ï¼šæœªè¨­å®šé©—è­‰"; \
		echo ""; \
		echo "è«‹é¸æ“‡ä»¥ä¸‹å…¶ä¸­ä¸€ç¨®é©—è­‰æ–¹æ³•ï¼š"; \
		echo ""; \
		echo "ðŸ”‘ æ–¹æ³• 1 - API é‡‘é‘° (Gemini API)ï¼š"; \
		echo "   export GOOGLE_API_KEY=your_api_key_here"; \
		echo "   åœ¨æ­¤å–å¾—å…è²»é‡‘é‘°ï¼š https://aistudio.google.com/app/apikey"; \
		echo ""; \
		echo "ðŸ” æ–¹æ³• 2 - æœå‹™å¸³è™Ÿ (VertexAI)ï¼š"; \
		echo "   export GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json"; \
		echo "   export GOOGLE_CLOUD_PROJECT=your_project_id"; \
		echo "   åœ¨æ­¤å»ºç«‹æ†‘è­‰ï¼š https://console.cloud.google.com/iam-admin/serviceaccounts"; \
		echo ""; \
		exit 1; \
	fi
```

### é‡é»žæ‘˜è¦
- **æ ¸å¿ƒæ¦‚å¿µ**ï¼šæ­¤ `Makefile` æä¾›äº†ä¸€çµ„æŒ‡ä»¤ï¼Œç”¨æ–¼è‡ªå‹•åŒ–ç®¡ç†ä¸€å€‹åŒ…å« Python å¾Œç«¯å’Œ React å‰ç«¯çš„å°ˆæ¡ˆã€‚å®ƒç°¡åŒ–äº†ä¾è³´é …å®‰è£ã€å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ã€åŸ·è¡Œæ¸¬è©¦å’Œæ¸…ç†å°ˆæ¡ˆç­‰æµç¨‹ã€‚
- **é—œéµæŠ€è¡“**ï¼š
    - `make`: ç”¨æ–¼å®šç¾©èˆ‡åŸ·è¡Œä»»å‹™çš„å»ºç½®è‡ªå‹•åŒ–å·¥å…·ã€‚
    - `pip`: Python çš„å¥—ä»¶å®‰è£å™¨ï¼Œç”¨æ–¼ç®¡ç†å¾Œç«¯ä¾è³´é …ã€‚
    - `npm`: Node.js çš„å¥—ä»¶ç®¡ç†å™¨ï¼Œç”¨æ–¼ç®¡ç†å‰ç«¯ä¾è³´é …ã€‚
    - `trap`: Shell æŒ‡ä»¤ï¼Œç”¨æ–¼åœ¨è…³æœ¬çµæŸæ™‚æ•æ‰ä¿¡è™Ÿä¸¦åŸ·è¡Œæ¸…ç†å‹•ä½œ (ä¾‹å¦‚ï¼Œçµ‚æ­¢æ‰€æœ‰èƒŒæ™¯é€²ç¨‹)ã€‚
- **é‡è¦æŒ‡ä»¤**ï¼š
    - `make setup`: ä¸€æ¬¡æ€§å®‰è£å‰å¾Œç«¯æ‰€æœ‰ä¾è³´é …ã€‚
    - `make dev`: åŒæ™‚å•Ÿå‹•å¾Œç«¯ (FastAPI) å’Œå‰ç«¯ (Vite) çš„é–‹ç™¼ä¼ºæœå™¨ã€‚
    - `make test`: åŸ·è¡Œ `pytest` æ¸¬è©¦å¥—ä»¶ã€‚
    - `make clean`: åˆªé™¤æ‰€æœ‰ Python å¿«å–æª”æ¡ˆ (`.pyc`, `__pycache__`) å’Œå‰ç«¯å»ºç½®æª”æ¡ˆã€‚
    - `make demo`: é¡¯ç¤ºå¯åœ¨æ‡‰ç”¨ç¨‹å¼ä¸­ä½¿ç”¨çš„ç¯„ä¾‹æç¤ºã€‚
- **ç’°å¢ƒè¨­å®š**ï¼š`check-env` ç›®æ¨™æœƒåœ¨ä½¿ç”¨ä¼ºæœå™¨æˆ–åŸ·è¡Œæ¸¬è©¦å‰ï¼Œé©—è­‰ `GOOGLE_API_KEY` æˆ– `GOOGLE_APPLICATION_CREDENTIALS` æ˜¯å¦å·²è¨­å®šï¼Œä»¥ç¢ºä¿ Google API çš„é©—è­‰æˆåŠŸã€‚

### Mermaid æµç¨‹åœ–
```mermaid
graph TD
    subgraph é–‹ç™¼æµç¨‹
        A[é–‹ç™¼è€…] -- "åŸ·è¡Œ 'make setup'" --> B{å®‰è£ä¾è³´é …};
        B -- "æˆåŠŸ" --> C{åŸ·è¡Œ 'make dev'};
        C -- "å•Ÿå‹•å¾Œç«¯" --> D[Python FastAPI ä¼ºæœå™¨ (Port 8000)];
        C -- "å•Ÿå‹•å‰ç«¯" --> E[React Vite ä¼ºæœå™¨ (Port 5173)];
        A -- "ç€è¦½ http://localhost:5173" --> E;
    end

    subgraph å…¶ä»–æŒ‡ä»¤
        A -- "åŸ·è¡Œ 'make test'" --> F[é‹è¡Œ Pytest æ¸¬è©¦];
        A -- "åŸ·è¡Œ 'make clean'" --> G[æ¸…ç†å°ˆæ¡ˆæª”æ¡ˆ];
        A -- "åŸ·è¡Œ 'make demo'" --> H[é¡¯ç¤ºç¯„ä¾‹æç¤º];
    end

    subgraph ç’°å¢ƒæª¢æŸ¥
        I{åŸ·è¡Œ dev/test æŒ‡ä»¤} --> J[check-env];
        J -- "é©—è­‰ GOOGLE_API_KEY" --> K{é©—è­‰æˆåŠŸ?};
        K -- "æ˜¯" --> L[ç¹¼çºŒåŸ·è¡Œ];
        K -- "å¦" --> M[é¡¯ç¤ºéŒ¯èª¤ä¸¦çµ‚æ­¢];
    end
