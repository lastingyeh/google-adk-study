# å®£å‘Šè™›æ“¬ç›®æ¨™ï¼Œé€™äº›ç›®æ¨™ä¸å°æ‡‰å¯¦éš›æª”æ¡ˆ
.PHONY: help setup dev test clean demo check-node create-sample-files clean-samples about

# é¡¯ç¤ºå¹«åŠ©è³‡è¨Šï¼Œåˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„æŒ‡ä»¤
help:
	@echo "æ•™å­¸ 16ï¼šMCP æ•´åˆ - å¯ç”¨æŒ‡ä»¤ï¼š"
	@echo "  make setup             - å®‰è£ç›¸ä¾å¥—ä»¶ä¸¦è¨­å®šç’°å¢ƒ"
	@echo "  make dev               - å•Ÿå‹• ADK é–‹ç™¼ä¼ºæœå™¨"
	@echo "  make test              - åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦"
	@echo "  make demo              - é¡¯ç¤ºç¤ºç¯„æç¤ºå’Œä½¿ç”¨ç¯„ä¾‹"
	@echo "  make about             - é¡¯ç¤ºè©³ç´°çš„ä»£ç†ç¨‹å¼åŠŸèƒ½"
	@echo "  make create-sample-files - å»ºç«‹æ¸¬è©¦ç”¨çš„ç¯„ä¾‹æª”æ¡ˆ"
	@echo "  make clean-samples     - ç§»é™¤ç¯„ä¾‹æª”æ¡ˆç›®éŒ„"
	@echo "  make clean             - ç§»é™¤å¿«å–æª”æ¡ˆå’Œå»ºç½®å·¥ä»¶"
	@echo "  make check-node        - é©—è­‰ Node.js å’Œ npx æ˜¯å¦å·²å®‰è£"

# è¨­å®šç’°å¢ƒï¼Œä¾è³´æ–¼ check-node ç›®æ¨™
setup: check-node
	@echo "è¨­å®šæ•™å­¸ 16ï¼šMCP æ•´åˆ..."
	pip install -r requirements.txt  # å®‰è£ Python ç›¸ä¾å¥—ä»¶
	pip install -e .                 # ä»¥é–‹ç™¼æ¨¡å¼å®‰è£ç•¶å‰å°ˆæ¡ˆ
	@echo ""
	@echo "âœ… è¨­å®šå®Œæˆï¼"
	@echo ""
	@echo "ä¸‹ä¸€æ­¥ï¼š"
	@echo "  1. è¤‡è£½ mcp_agent/.env.example è‡³ mcp_agent/.env"
	@echo "  2. å°‡æ‚¨çš„ GOOGLE_API_KEY æ–°å¢åˆ° mcp_agent/.env"
	@echo "  3. åŸ·è¡Œ 'make dev' å•Ÿå‹• ADK ä¼ºæœå™¨"
	@echo "  4. åœ¨ç€è¦½å™¨ä¸­é–‹å•Ÿ http://localhost:8000"

# æª¢æŸ¥ Node.js å’Œ npx æ˜¯å¦å·²å®‰è£
check-node:
	@echo "æª¢æŸ¥ Node.js å’Œ npx å®‰è£ç‹€æ…‹..."
	# æª¢æŸ¥ node æŒ‡ä»¤æ˜¯å¦å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨å‰‡é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ä¸¦çµæŸ
	@command -v node >/dev/null 2>&1 || { echo "âŒ éŒ¯èª¤ï¼šæ‰¾ä¸åˆ° Node.jsã€‚è«‹å¾ https://nodejs.org/ å®‰è£"; exit 1; }
	# æª¢æŸ¥ npx æŒ‡ä»¤æ˜¯å¦å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨å‰‡é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ä¸¦çµæŸ
	@command -v npx >/dev/null 2>&1 || { echo "âŒ éŒ¯èª¤ï¼šæ‰¾ä¸åˆ° npxã€‚è«‹å¾ https://nodejs.org/ å®‰è£ Node.js"; exit 1; }
	@echo "âœ… Node.jsï¼š$$(node --version)"
	@echo "âœ… npxï¼š$$(npx --version)"

# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
dev:
	@echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
	@echo "â•‘         å•Ÿå‹• MCP æª”æ¡ˆç³»çµ±ä»£ç†ç¨‹å¼ - ADK ä¼ºæœå™¨                          â•‘"
	@echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
	@echo ""
	@echo "ğŸš€ ä¼ºæœå™¨å°‡å•Ÿå‹•æ–¼ï¼šhttp://localhost:8000"
	@echo ""
	@echo "ğŸ“‚ æª”æ¡ˆçµ„ç¹”ç¯„ä¾‹ï¼ˆè©¦è©¦é€™äº›æç¤ºï¼‰ï¼š"
	@echo ""
	@echo "1. åŸºæœ¬çµ„ç¹”ï¼š"
	@echo "   'æŒ‰æª”æ¡ˆé¡å‹çµ„ç¹” sample_files ç›®éŒ„'"
	@echo "   'ç‚ºç¨‹å¼ç¢¼ã€æ–‡ä»¶å’Œè¨­å®šæª”å»ºç«‹è³‡æ–™å¤¾'"
	@echo "   'å°‡æ‰€æœ‰ .txt æª”æ¡ˆç§»å‹•åˆ°æ–‡ä»¶è³‡æ–™å¤¾'"
	@echo ""
	@echo "2. å°ˆæ¡ˆçµæ§‹ï¼š"
	@echo "   'å»ºç«‹æ¨™æº–çš„ Python å°ˆæ¡ˆçµæ§‹'"
	@echo "   'å°‡æª”æ¡ˆçµ„ç¹”åˆ° src/ã€tests/ å’Œ docs/ è³‡æ–™å¤¾'"
	@echo "   'è¨­å®šåŒ…å« public/ã€src/ å’Œ config/ è³‡æ–™å¤¾çš„ç¶²é å°ˆæ¡ˆ'"
	@echo ""
	@echo "3. å…§å®¹å°å‘çµ„ç¹”ï¼š"
	@echo "   'å°‡æ‰€æœ‰ Python æª”æ¡ˆç¾¤çµ„åˆ°ç¨‹å¼ç¢¼è³‡æ–™å¤¾'"
	@echo "   'å°‡æ‰€æœ‰è¨­å®šæª”ç§»åˆ° config ç›®éŒ„'"
	@echo "   'å°‡ markdown æª”æ¡ˆçµ„ç¹”åˆ°æ–‡ä»¶è³‡æ–™å¤¾'"
	@echo ""
	@echo "4. é€²éšçµ„ç¹”ï¼š"
	@echo "   'æŒ‰ä¿®æ”¹æ—¥æœŸå°‡æª”æ¡ˆåˆ†é¡åˆ°å¹´åº¦è³‡æ–™å¤¾'"
	@echo "   'å»ºç«‹å‚™ä»½è³‡æ–™å¤¾ä¸¦ç§»å‹•èˆŠæª”æ¡ˆ'"
	@echo "   'æŒ‰æª”æ¡ˆå¤§å°çµ„ç¹”ï¼ˆå°ã€ä¸­ã€å¤§ï¼‰'"
	@echo ""
	@echo "5. æ¸…ç†æ“ä½œï¼š"
	@echo "   'ç§»é™¤æ‰€æœ‰æš«å­˜æª”æ¡ˆï¼ˆ*.tmpã€*.bakï¼‰'"
	@echo "   'åˆä½µé‡è¤‡æª”æ¡ˆ'"
	@echo "   'å°‡èˆŠæ—¥èªŒæª”æ¡ˆå°å­˜åˆ°å£“ç¸®è³‡æ–™å¤¾'"
	@echo ""
	@echo "ğŸ’¡ æª”æ¡ˆçµ„ç¹”æŠ€å·§ï¼š"
	@echo "  â€¢ ä»£ç†ç¨‹å¼å¯ä»¥è‡ªå‹•å»ºç«‹è³‡æ–™å¤¾"
	@echo "  â€¢ ä½¿ç”¨è‡ªç„¶èªè¨€å¦‚ã€ŒæŒ‰é¡å‹åˆ†çµ„ã€æˆ–ã€ŒæŒ‰æ—¥æœŸæ’åºã€"
	@echo "  â€¢ ä»£ç†ç¨‹å¼æœƒåœ¨åŸ·è¡Œå‰èªªæ˜å‹•ä½œ"
	@echo "  â€¢ é¦–å…ˆè©¦è©¦ã€Œmake create-sample-filesã€ä¾†å»ºç«‹æ¸¬è©¦è³‡æ–™"
	@echo ""
	@echo "ğŸ¯ å¿«é€Ÿæ¸¬è©¦æŒ‡ä»¤ï¼š"
	@echo "  make create-sample-files    # å»ºç«‹æ¸¬è©¦æª”æ¡ˆä¾†çµ„ç¹”"
	@echo "  make demo                   # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æç¤º"
	@echo "  make about                  # å®Œæ•´ä»£ç†ç¨‹å¼åŠŸèƒ½"
	@echo ""
	@echo "å•Ÿå‹•ä¼ºæœå™¨..."
	@echo ""
	@adk web  # å•Ÿå‹• ADK ç¶²é ä¼ºæœå™¨

# åŸ·è¡Œæ¸¬è©¦
test:
	@echo "åŸ·è¡Œæ•™å­¸ 16 çš„æ¸¬è©¦..."
	@echo ""
	# è¨­å®šç’°å¢ƒè®Šæ•¸ä¸¦åŸ·è¡Œ pytest æ¸¬è©¦
	SKIP_MCP_INTEGRATION=false pytest tests/ -v
	@echo ""
	@echo "âœ… æ‰€æœ‰æ¸¬è©¦é€šéï¼"

# é¡¯ç¤ºç¤ºç¯„æŒ‡ä»¤å’Œæç¤º
demo:
	@echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
	@echo "â•‘         æ•™å­¸ 16ï¼šMCP æ•´åˆ - ç¤ºç¯„æç¤º                                   â•‘"
	@echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
	@echo ""
	@echo "ğŸš€ å¿«é€Ÿé–‹å§‹ï¼š"
	@echo "  1. make setup              # å®‰è£ç›¸ä¾å¥—ä»¶"
	@echo "  2. make create-sample-files # å»ºç«‹æ¸¬è©¦æª”æ¡ˆï¼ˆå¯é¸ï¼‰"
	@echo "  3. make dev                # å•Ÿå‹• ADK ä¼ºæœå™¨"
	@echo "  4. é–‹å•Ÿ http://localhost:8000"
	@echo ""
	@echo "ğŸ“ ç¤ºç¯„æç¤ºï¼ˆåœ¨ ADK UI ä¸­è©¦è©¦é€™äº›ï¼‰ï¼š"
	@echo ""
	@echo "1. åˆ—å‡ºæª”æ¡ˆï¼š"
	@echo "   'åˆ—å‡ºç›®å‰ç›®éŒ„ä¸­çš„æ‰€æœ‰æª”æ¡ˆ'"
	@echo "   'é¡¯ç¤ºæ­¤å°ˆæ¡ˆä¸­çš„æ‰€æœ‰ Python æª”æ¡ˆ'"
	@echo ""
	@echo "2. è®€å–æª”æ¡ˆï¼š"
	@echo "   'è®€å– README.md çš„å…§å®¹'"
	@echo "   'requirements.txt æª”æ¡ˆè£¡æœ‰ä»€éº¼ï¼Ÿ'"
	@echo ""
	@echo "3. å»ºç«‹æª”æ¡ˆï¼š"
	@echo "   'å»ºç«‹ä¸€å€‹åç‚º test.txt çš„æ–°æª”æ¡ˆï¼Œå…§å®¹ç‚ºï¼šHello MCPï¼'"
	@echo "   'å¯«ä¸€å€‹åˆ—å°ç›®å‰æ—¥æœŸçš„ Python è…³æœ¬'"
	@echo ""
	@echo "4. æª”æ¡ˆæœå°‹ï¼š"
	@echo "   'æœå°‹æ‰€æœ‰åŒ…å« TODO çš„ Python æª”æ¡ˆ'"
	@echo "   'æ‰¾å‡ºæ­¤ç›®éŒ„ä¸­çš„æ‰€æœ‰ markdown æª”æ¡ˆ'"
	@echo ""
	@echo "5. æª”æ¡ˆè³‡è¨Šï¼š"
	@echo "   'requirements.txt çš„å¤§å°å’Œæœ€å¾Œä¿®æ”¹æ—¥æœŸæ˜¯ä»€éº¼ï¼Ÿ'"
	@echo "   'çµ¦æˆ‘ Makefile çš„è©³ç´°è³‡è¨Š'"
	@echo ""
	@echo "6. æª”æ¡ˆçµ„ç¹”ï¼š"
	@echo "   'æŒ‰æª”æ¡ˆé¡å‹çµ„ç¹” sample_files/mixed_content è³‡æ–™å¤¾'"
	@echo "   'ç‚ºç¨‹å¼ç¢¼ã€æ–‡ä»¶å’Œè¨­å®šæª”å»ºç«‹è³‡æ–™å¤¾'"
	@echo "   'å°‡æ‰€æœ‰ .txt æª”æ¡ˆç§»åˆ°æ–‡ä»¶è³‡æ–™å¤¾'"
	@echo ""
	@echo "7. é€²éšæ“ä½œï¼š"
	@echo "   'å»ºç«‹åŒ…å« srcã€tests å’Œ docs è³‡æ–™å¤¾çš„å°ˆæ¡ˆçµæ§‹'"
	@echo "   'åˆ†ææ‰€æœ‰ Python æª”æ¡ˆä¸¦åˆ—å‡ºå…¶ä¸»è¦åŠŸèƒ½'"
	@echo "   'ç”¢ç”Ÿæ­¤ç›®éŒ„ä¸­æ‰€æœ‰ markdown æª”æ¡ˆçš„æ‘˜è¦'"
	@echo ""
	@echo "ğŸ’¡ æŠ€å·§ï¼š"
	@echo "  - MCP ä¼ºæœå™¨è‡ªå‹•é€£æ¥åˆ°æª”æ¡ˆç³»çµ±"
	@echo "  - ä»£ç†ç¨‹å¼å¯ä»¥è®€å–ã€å¯«å…¥ã€ç§»å‹•å’Œçµ„ç¹”æª”æ¡ˆ"
	@echo "  - ä½¿ç”¨è‡ªç„¶èªè¨€é€²è¡Œæª”æ¡ˆæ“ä½œ"
	@echo "  - ä»£ç†ç¨‹å¼æœƒåœ¨åŸ·è¡Œå‰èªªæ˜å‹•ä½œ"
	@echo "  - è©¦è©¦ã€Œmake aboutã€ä¾†äº†è§£è©³ç´°åŠŸèƒ½"
	@echo ""
	@echo "ğŸ“š äº†è§£æ›´å¤šï¼š"
	@echo "  - æ•™å­¸ï¼šdocs/tutorial/16_mcp_integration.md"
	@echo "  - MCP è¦æ ¼ï¼šhttps://spec.modelcontextprotocol.io/"
	@echo "  - å®˜æ–¹ä¼ºæœå™¨ï¼šhttps://github.com/modelcontextprotocol/servers"
	@echo ""
	@echo "ğŸ“ æŒ‡ä»¤ï¼š"
	@echo "  make about              - é¡¯ç¤ºå®Œæ•´ä»£ç†ç¨‹å¼åŠŸèƒ½"
	@echo "  make create-sample-files - å»ºç«‹æ¸¬è©¦æª”æ¡ˆä¾†çµ„ç¹”"
	@echo "  make clean-samples      - ç§»é™¤ç¯„ä¾‹æª”æ¡ˆ"

# é¡¯ç¤ºè©³ç´°çš„ä»£ç†ç¨‹å¼åŠŸèƒ½èªªæ˜
about:
	@echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
	@echo "â•‘     MCP æª”æ¡ˆç³»çµ±ä»£ç†ç¨‹å¼ - åŠŸèƒ½èˆ‡ç‰¹è‰²                                   â•‘"
	@echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
	@echo ""
	@echo "ğŸ¤– ä»£ç†ç¨‹å¼æ¦‚è¿°ï¼š"
	@echo "  æ­¤ AI ä»£ç†ç¨‹å¼é€éæ¨¡å‹ä¸Šä¸‹æ–‡å”å®šï¼ˆMCPï¼‰å…·æœ‰ç›´æ¥æª”æ¡ˆç³»çµ±å­˜å–èƒ½åŠ›ï¼Œ"
	@echo "  èƒ½å¤ ä½¿ç”¨è‡ªç„¶èªè¨€æŒ‡ä»¤åŸ·è¡Œæª”æ¡ˆæ“ä½œã€‚ä¸éœ€è¦æ‰‹å‹•æª”æ¡ˆè™•ç†ï¼"
	@echo ""
	@echo "ğŸ“‚ æ ¸å¿ƒåŠŸèƒ½ï¼š"
	@echo ""
	@echo "  1. æª”æ¡ˆè®€å–ï¼š"
	@echo "     â€¢ è®€å–æ–‡å­—æª”æ¡ˆï¼ˆç¨‹å¼ç¢¼ã€æ–‡ä»¶ã€è¨­å®šï¼‰"
	@echo "     â€¢ è®€å–åª’é«”æª”æ¡ˆï¼ˆåœ–ç‰‡ã€PDF - ä¸­ç¹¼è³‡æ–™ï¼‰"
	@echo "     â€¢ æ™ºæ…§ç·¨ç¢¼åµæ¸¬"
	@echo "     ç¯„ä¾‹ï¼š'è®€å– config.json çš„å…§å®¹'"
	@echo ""
	@echo "  2. æª”æ¡ˆå¯«å…¥ï¼š"
	@echo "     â€¢ å»ºç«‹åŒ…å«å…§å®¹çš„æ–°æª”æ¡ˆ"
	@echo "     â€¢ æ›´æ–°ç¾æœ‰æª”æ¡ˆ"
	@echo "     â€¢ è‡ªå‹•å»ºç«‹ç›®éŒ„"
	@echo "     ç¯„ä¾‹ï¼š'å»ºç«‹ä¸€å€‹åˆ—å° hello world çš„ Python è…³æœ¬'"
	@echo ""
	@echo "  3. ç›®éŒ„æ“ä½œï¼š"
	@echo "     â€¢ åˆ—å‡ºç›®éŒ„å…§å®¹"
	@echo "     â€¢ å»ºç«‹å·¢ç‹€ç›®éŒ„"
	@echo "     â€¢ éè¿´ç›®éŒ„æƒæ"
	@echo "     ç¯„ä¾‹ï¼š'åˆ—å‡ºæ­¤ç›®éŒ„ä¸­çš„æ‰€æœ‰ Python æª”æ¡ˆ'"
	@echo ""
	@echo "  4. æª”æ¡ˆç®¡ç†ï¼š"
	@echo "     â€¢ ç§»å‹•/é‡æ–°å‘½åæª”æ¡ˆ"
	@echo "     â€¢ è¤‡è£½æª”æ¡ˆï¼ˆé€éè®€å– + å¯«å…¥ï¼‰"
	@echo "     â€¢ å–å¾—æª”æ¡ˆä¸­ç¹¼è³‡æ–™ï¼ˆå¤§å°ã€æ—¥æœŸã€æ¬Šé™ï¼‰"
	@echo "     ç¯„ä¾‹ï¼š'å°‡æ‰€æœ‰ .txt æª”æ¡ˆç§»åˆ° docs è³‡æ–™å¤¾'"
	@echo ""
	@echo "  5. æœå°‹èˆ‡æ¢ç´¢ï¼š"
	@echo "     â€¢ æŒ‰æ¨¡å¼æœå°‹æª”æ¡ˆï¼ˆglobï¼‰"
	@echo "     â€¢ æŒ‰å…§å®¹å°‹æ‰¾æª”æ¡ˆï¼ˆgrepï¼‰"
	@echo "     â€¢ æŒ‰æª”æ¡ˆé¡å‹æˆ–å‰¯æª”åç¯©é¸"
	@echo "     ç¯„ä¾‹ï¼š'åœ¨ Python æª”æ¡ˆä¸­å°‹æ‰¾æ‰€æœ‰ TODO è¨»è§£'"
	@echo ""
	@echo "  6. æª”æ¡ˆçµ„ç¹”ï¼š"
	@echo "     â€¢ æŒ‰é¡å‹è‡ªå‹•çµ„ç¹”æª”æ¡ˆ"
	@echo "     â€¢ å»ºç«‹çµæ§‹åŒ–ç›®éŒ„"
	@echo "     â€¢ æ‰¹æ¬¡é‡æ–°å‘½åæ“ä½œ"
	@echo "     ç¯„ä¾‹ï¼š'å°‡é€™äº›æª”æ¡ˆæŒ‰é¡å‹çµ„ç¹”åˆ°è³‡æ–™å¤¾ä¸­'"
	@echo ""
	@echo "ğŸ¯ ä½¿ç”¨æ¡ˆä¾‹ï¼š"
	@echo "  â€¢ ç¨‹å¼ç¢¼ç”¢ç”Ÿå’Œæª”æ¡ˆå»ºç«‹"
	@echo "  â€¢ å°ˆæ¡ˆæ¶æ§‹æ­å»ºå’Œè¨­å®š"
	@echo "  â€¢ æª”æ¡ˆçµ„ç¹”å’Œæ¸…ç†"
	@echo "  â€¢ æ–‡ä»¶ç”¢ç”Ÿ"
	@echo "  â€¢ è¨­å®šæª”ç®¡ç†"
	@echo "  â€¢ å»ºç½®å·¥ä»¶çµ„ç¹”"
	@echo "  â€¢ æ—¥èªŒæª”æ¡ˆåˆ†æ"
	@echo ""
	@echo "ğŸ”’ å®‰å…¨åŠŸèƒ½ï¼š"
	@echo "  â€¢ é™å®šåœ¨ç‰¹å®šç›®éŒ„ç¯„åœå…§ï¼ˆç„¡ç³»çµ±å­˜å–æ¬Šï¼‰"
	@echo "  â€¢ ä»£ç†ç¨‹å¼æœƒåœ¨åŸ·è¡Œå‰èªªæ˜å‹•ä½œ"
	@echo "  â€¢ å¯ä½¿ç”¨å”¯è®€æ¨¡å¼"
	@echo "  â€¢ ç ´å£æ€§æ“ä½œéœ€è¦ä½¿ç”¨è€…ç¢ºèª"
	@echo ""
	@echo "âš¡ æ•ˆèƒ½ï¼š"
	@echo "  â€¢ ä½¿ç”¨ async/await é€²è¡Œéé˜»å¡æ“ä½œ"
	@echo "  â€¢ MCP åˆå§‹åŒ– 30 ç§’é€¾æ™‚"
	@echo "  â€¢ å¤§æª”æ¡ˆé«˜æ•ˆä¸²æµ"
	@echo "  â€¢ é€£ç·šæ± åŒ–å’Œé‡è¤‡ä½¿ç”¨"
	@echo ""
	@echo "ğŸš€ ç«‹å³è©¦ç”¨ï¼š"
	@echo "  make create-sample-files  # å»ºç«‹æ¸¬è©¦æª”æ¡ˆ"
	@echo "  make dev                  # å•Ÿå‹•ä»£ç†ç¨‹å¼"
	@echo "  ç„¶å¾Œè©¢å•ï¼š'æŒ‰æª”æ¡ˆé¡å‹çµ„ç¹” sample_files ç›®éŒ„'"
	@echo ""

# å»ºç«‹ç¯„ä¾‹æª”æ¡ˆä¾›æ¸¬è©¦ä½¿ç”¨
create-sample-files:
	@echo "å»ºç«‹æ¸¬è©¦ç”¨ç¯„ä¾‹æª”æ¡ˆ..."
	@mkdir -p sample_files  # å»ºç«‹ä¸»è¦ç¯„ä¾‹ç›®éŒ„
	@# å»ºç«‹æ–‡å­—æ–‡ä»¶
	@echo "é€™æ˜¯ä¸€å€‹ç¯„ä¾‹æ–‡å­—æ–‡ä»¶ã€‚\næ‚¨å¯ä»¥è¦æ±‚ä»£ç†ç¨‹å¼è®€å–æˆ–çµ„ç¹”æ­¤æª”æ¡ˆã€‚" > sample_files/document1.txt
	@echo "å¦ä¸€å€‹åŒ…å«ä¸åŒå…§å®¹çš„æ–‡å­—æª”æ¡ˆã€‚\nå°æ¸¬è©¦æª”æ¡ˆæ“ä½œå¾ˆæœ‰ç”¨ã€‚" > sample_files/notes.txt
	@echo "2025-10-10 æœƒè­°è¨˜éŒ„\n- è¨è«–äº† MCP æ•´åˆ\n- å¯©æŸ¥äº†æª”æ¡ˆæ“ä½œ" > sample_files/meeting_notes.txt
	@# å»ºç«‹ç¨‹å¼ç¢¼æª”æ¡ˆ
	@echo "def hello_world():\n    print('Hello from MCP!')\n\nif __name__ == '__main__':\n    hello_world()" > sample_files/script.py
	@echo "function greet(name) {\n    return \`Hello, \$${name}!\`;\n}\n\nconsole.log(greet('MCP'));" > sample_files/app.js
	@echo "package main\n\nimport \"fmt\"\n\nfunc main() {\n    fmt.Println(\"Hello, MCP!\")\n}" > sample_files/main.go
	@# å»ºç«‹è¨­å®šæª”
	@echo "{\n  \"name\": \"sample-project\",\n  \"version\": \"1.0.0\",\n  \"description\": \"ç”¨æ–¼ MCP æ¸¬è©¦çš„ç¯„ä¾‹å°ˆæ¡ˆ\"\n}" > sample_files/package.json
	@echo "debug = true\nport = 8080\nhost = localhost\n\n[database]\nurl = postgres://localhost/db" > sample_files/config.toml
	@echo "# ç¯„ä¾‹ YAML è¨­å®š\napp_name: MCP Demo\nenvironment: development\nfeatures:\n  - file_operations\n  - organization\n" > sample_files/settings.yaml
	@# å»ºç«‹ markdown æª”æ¡ˆ
	@echo "# å°ˆæ¡ˆ README\n\né€™æ˜¯ç”¨æ–¼æ¸¬è©¦ MCP æª”æ¡ˆæ“ä½œçš„ç¯„ä¾‹å°ˆæ¡ˆã€‚\n\n## åŠŸèƒ½\n- æª”æ¡ˆè®€å–\n- æª”æ¡ˆå¯«å…¥\n- çµ„ç¹”" > sample_files/README.md
	@echo "# å¾…è¾¦æ¸…å–®\n\n- [ ] æŒ‰é¡å‹çµ„ç¹”æª”æ¡ˆ\n- [ ] å»ºç«‹è³‡æ–™å¤¾çµæ§‹\n- [x] æ¸¬è©¦ MCP ä»£ç†ç¨‹å¼\n" > sample_files/TODO.md
	@# å»ºç«‹ CSV å’Œè³‡æ–™æª”æ¡ˆ
	@echo "name,age,city\nAlice,30,NYC\nBob,25,SF\nCharlie,35,LA" > sample_files/data.csv
	@echo "{\n  \"users\": [\n    {\"id\": 1, \"name\": \"Alice\"},\n    {\"id\": 2, \"name\": \"Bob\"}\n  ]\n}" > sample_files/users.json
	@# å»ºç«‹æ··äº‚çš„æª”æ¡ˆä¾›çµ„ç¹”
	@mkdir -p sample_files/mixed_content
	@echo "éš¨æ©Ÿæª”æ¡ˆ 1" > sample_files/mixed_content/file1.txt
	@echo "console.log('test');" > sample_files/mixed_content/test.js
	@echo "# ç­†è¨˜" > sample_files/mixed_content/notes.md
	@echo "x = 42" > sample_files/mixed_content/calc.py
	@echo "key=value" > sample_files/mixed_content/config.env
	@echo ""
	@echo "âœ… ç¯„ä¾‹æª”æ¡ˆå»ºç«‹æˆåŠŸï¼"
	@echo ""
	@echo "ğŸ“‚ å»ºç«‹çš„çµæ§‹ï¼š"
	@echo "  sample_files/"
	@echo "    â”œâ”€â”€ æ–‡å­—æª”æ¡ˆï¼šdocument1.txt, notes.txt, meeting_notes.txt"
	@echo "    â”œâ”€â”€ ç¨‹å¼ç¢¼æª”æ¡ˆï¼šscript.py, app.js, main.go"
	@echo "    â”œâ”€â”€ è¨­å®šæª”ï¼špackage.json, config.toml, settings.yaml"
	@echo "    â”œâ”€â”€ æ–‡ä»¶ï¼šREADME.md, TODO.md"
	@echo "    â”œâ”€â”€ è³‡æ–™æª”æ¡ˆï¼šdata.csv, users.json"
	@echo "    â””â”€â”€ mixed_content/ï¼ˆæœªæ’åºçš„æª”æ¡ˆä¾›çµ„ç¹”ï¼‰"
	@echo ""
	@echo "ğŸ¯ èˆ‡ä»£ç†ç¨‹å¼è©¦è©¦é€™äº›æç¤ºï¼š"
	@echo "  â€¢ 'åˆ—å‡º sample_files ç›®éŒ„ä¸­çš„æ‰€æœ‰æª”æ¡ˆ'"
	@echo "  â€¢ 'è®€å– README.md çš„å…§å®¹'"
	@echo "  â€¢ 'æŒ‰æª”æ¡ˆé¡å‹çµ„ç¹” mixed_content è³‡æ–™å¤¾'"
	@echo "  â€¢ 'åœ¨ sample_files ä¸­å°‹æ‰¾æ‰€æœ‰ Python æª”æ¡ˆ'"
	@echo "  â€¢ 'å»ºç«‹æ‰€æœ‰æ–‡å­—æ–‡ä»¶çš„æ‘˜è¦'"
	@echo "  â€¢ 'å°‡æ‰€æœ‰è¨­å®šæª”ç§»åˆ°æ–°çš„ config/ è³‡æ–™å¤¾'"
	@echo ""

# æ¸…ç†ç¯„ä¾‹æª”æ¡ˆ
clean-samples:
	@echo "ç§»é™¤ç¯„ä¾‹æª”æ¡ˆ..."
	@rm -rf sample_files  # éè¿´åˆªé™¤æ•´å€‹ sample_files ç›®éŒ„
	@echo "âœ… ç¯„ä¾‹æª”æ¡ˆå·²ç§»é™¤ï¼"

# æ¸…ç†å»ºç½®å·¥ä»¶å’Œå¿«å–
clean:
	@echo "æ¸…ç†å»ºç½®å·¥ä»¶å’Œå¿«å–..."
	# å°‹æ‰¾ä¸¦åˆªé™¤ Python å¿«å–ç›®éŒ„
	find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null || true
	# å°‹æ‰¾ä¸¦åˆªé™¤ Python å¥—ä»¶è³‡è¨Šç›®éŒ„
	find . -type d -name "*.egg-info" -exec rm -rf {} + 2>/dev/null || true
	# å°‹æ‰¾ä¸¦åˆªé™¤ pytest å¿«å–ç›®éŒ„
	find . -type d -name ".pytest_cache" -exec rm -rf {} + 2>/dev/null || true
	# åˆªé™¤ç·¨è­¯çš„ Python æª”æ¡ˆ
	find . -type f -name "*.pyc" -delete 2>/dev/null || true
	@echo "âœ… æ¸…ç†å®Œæˆï¼"
	@echo ""
	@echo "ğŸ’¡ è‹¥è¦åŒæ™‚ç§»é™¤ç¯„ä¾‹æª”æ¡ˆï¼Œè«‹åŸ·è¡Œï¼šmake clean-samples"